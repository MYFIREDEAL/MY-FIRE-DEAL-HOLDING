(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Lh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Gu={exports:{}},cs={},Ju={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qr=Symbol.for("react.element"),Uh=Symbol.for("react.portal"),Dh=Symbol.for("react.fragment"),Mh=Symbol.for("react.strict_mode"),zh=Symbol.for("react.profiler"),Fh=Symbol.for("react.provider"),Bh=Symbol.for("react.context"),Wh=Symbol.for("react.forward_ref"),Vh=Symbol.for("react.suspense"),Hh=Symbol.for("react.memo"),Kh=Symbol.for("react.lazy"),ma=Symbol.iterator;function qh(t){return t===null||typeof t!="object"?null:(t=ma&&t[ma]||t["@@iterator"],typeof t=="function"?t:null)}var Qu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yu=Object.assign,Xu={};function Jn(t,e,n){this.props=t,this.context=e,this.refs=Xu,this.updater=n||Qu}Jn.prototype.isReactComponent={};Jn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zu(){}Zu.prototype=Jn.prototype;function yl(t,e,n){this.props=t,this.context=e,this.refs=Xu,this.updater=n||Qu}var wl=yl.prototype=new Zu;wl.constructor=yl;Yu(wl,Jn.prototype);wl.isPureReactComponent=!0;var va=Array.isArray,ec=Object.prototype.hasOwnProperty,_l={current:null},tc={key:!0,ref:!0,__self:!0,__source:!0};function nc(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ec.call(e,r)&&!tc.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:qr,type:t,key:s,ref:o,props:i,_owner:_l.current}}function Gh(t,e){return{$$typeof:qr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kl(t){return typeof t=="object"&&t!==null&&t.$$typeof===qr}function Jh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ya=/\/+/g;function Ns(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jh(""+t.key):e.toString(36)}function Ei(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qr:case Uh:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ns(o,0):r,va(i)?(n="",t!=null&&(n=t.replace(ya,"$&/")+"/"),Ei(i,e,n,"",function(u){return u})):i!=null&&(kl(i)&&(i=Gh(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ya,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",va(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Ns(s,l);o+=Ei(s,e,n,a,i)}else if(a=qh(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Ns(s,l++),o+=Ei(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ni(t,e,n){if(t==null)return t;var r=[],i=0;return Ei(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Qh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var we={current:null},bi={transition:null},Yh={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:bi,ReactCurrentOwner:_l};function rc(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:ni,forEach:function(t,e,n){ni(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ni(t,function(){e++}),e},toArray:function(t){return ni(t,function(e){return e})||[]},only:function(t){if(!kl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=Jn;$.Fragment=Dh;$.Profiler=zh;$.PureComponent=yl;$.StrictMode=Mh;$.Suspense=Vh;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yh;$.act=rc;$.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Yu({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=_l.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)ec.call(e,a)&&!tc.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:qr,type:t.type,key:i,ref:s,props:r,_owner:o}};$.createContext=function(t){return t={$$typeof:Bh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fh,_context:t},t.Consumer=t};$.createElement=nc;$.createFactory=function(t){var e=nc.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:Wh,render:t}};$.isValidElement=kl;$.lazy=function(t){return{$$typeof:Kh,_payload:{_status:-1,_result:t},_init:Qh}};$.memo=function(t,e){return{$$typeof:Hh,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=bi.transition;bi.transition={};try{t()}finally{bi.transition=e}};$.unstable_act=rc;$.useCallback=function(t,e){return we.current.useCallback(t,e)};$.useContext=function(t){return we.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return we.current.useDeferredValue(t)};$.useEffect=function(t,e){return we.current.useEffect(t,e)};$.useId=function(){return we.current.useId()};$.useImperativeHandle=function(t,e,n){return we.current.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return we.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return we.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return we.current.useMemo(t,e)};$.useReducer=function(t,e,n){return we.current.useReducer(t,e,n)};$.useRef=function(t){return we.current.useRef(t)};$.useState=function(t){return we.current.useState(t)};$.useSyncExternalStore=function(t,e,n){return we.current.useSyncExternalStore(t,e,n)};$.useTransition=function(){return we.current.useTransition()};$.version="18.3.1";Ju.exports=$;var z=Ju.exports;const Xh=$h(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=z,ef=Symbol.for("react.element"),tf=Symbol.for("react.fragment"),nf=Object.prototype.hasOwnProperty,rf=Zh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sf={key:!0,ref:!0,__self:!0,__source:!0};function ic(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nf.call(e,r)&&!sf.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ef,type:t,key:s,ref:o,props:i,_owner:rf.current}}cs.Fragment=tf;cs.jsx=ic;cs.jsxs=ic;Gu.exports=cs;var m=Gu.exports,fo={},sc={exports:{}},Ie={},oc={exports:{}},lc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,R){var A=T.length;T.push(R);e:for(;0<A;){var q=A-1>>>1,D=T[q];if(0<i(D,R))T[q]=R,T[A]=D,A=q;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var R=T[0],A=T.pop();if(A!==R){T[0]=A;e:for(var q=0,D=T.length,dn=D>>>1;q<dn;){var S=2*(q+1)-1,re=T[S],X=S+1,Le=T[X];if(0>i(re,A))X<D&&0>i(Le,re)?(T[q]=Le,T[X]=A,q=X):(T[q]=re,T[S]=A,q=S);else if(X<D&&0>i(Le,A))T[q]=Le,T[X]=A,q=X;else break e}}return R}function i(T,R){var A=T.sortIndex-R.sortIndex;return A!==0?A:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,p=3,v=!1,y=!1,k=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(T){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=T)r(u),R.sortIndex=R.expirationTime,e(a,R);else break;R=n(u)}}function _(T){if(k=!1,f(T),!y)if(n(a)!==null)y=!0,er(b);else{var R=n(u);R!==null&&tr(_,R.startTime-T)}}function b(T,R){y=!1,k&&(k=!1,g(P),P=-1),v=!0;var A=p;try{for(f(R),d=n(a);d!==null&&(!(d.expirationTime>R)||T&&!Ce());){var q=d.callback;if(typeof q=="function"){d.callback=null,p=d.priorityLevel;var D=q(d.expirationTime<=R);R=t.unstable_now(),typeof D=="function"?d.callback=D:d===n(a)&&r(a),f(R)}else r(a);d=n(a)}if(d!==null)var dn=!0;else{var S=n(u);S!==null&&tr(_,S.startTime-R),dn=!1}return dn}finally{d=null,p=A,v=!1}}var E=!1,j=null,P=-1,L=5,I=-1;function Ce(){return!(t.unstable_now()-I<L)}function F(){if(j!==null){var T=t.unstable_now();I=T;var R=!0;try{R=j(!0,T)}finally{R?mt():(E=!1,j=null)}}else E=!1}var mt;if(typeof h=="function")mt=function(){h(F)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,he=vt.port2;vt.port1.onmessage=F,mt=function(){he.postMessage(null)}}else mt=function(){w(F,0)};function er(T){j=T,E||(E=!0,mt())}function tr(T,R){P=w(function(){T(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,er(b))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(T){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var A=p;p=R;try{return T()}finally{p=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var A=p;p=T;try{return R()}finally{p=A}},t.unstable_scheduleCallback=function(T,R,A){var q=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?q+A:q):A=q,T){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=A+D,T={id:c++,callback:R,priorityLevel:T,startTime:A,expirationTime:D,sortIndex:-1},A>q?(T.sortIndex=A,e(u,T),n(a)===null&&T===n(u)&&(k?(g(P),P=-1):k=!0,tr(_,A-q))):(T.sortIndex=D,e(a,T),y||v||(y=!0,er(b))),T},t.unstable_shouldYield=Ce,t.unstable_wrapCallback=function(T){var R=p;return function(){var A=p;p=R;try{return T.apply(this,arguments)}finally{p=A}}}})(lc);oc.exports=lc;var of=oc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=z,Ae=of;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ac=new Set,Cr={};function an(t,e){Fn(t,e),Fn(t+"Capture",e)}function Fn(t,e){for(Cr[t]=e,t=0;t<e.length;t++)ac.add(e[t])}var dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=Object.prototype.hasOwnProperty,af=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wa={},_a={};function uf(t){return po.call(_a,t)?!0:po.call(wa,t)?!1:af.test(t)?_a[t]=!0:(wa[t]=!0,!1)}function cf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function df(t,e,n,r){if(e===null||typeof e>"u"||cf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _e(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){de[t]=new _e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];de[e]=new _e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){de[t]=new _e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){de[t]=new _e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){de[t]=new _e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){de[t]=new _e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){de[t]=new _e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){de[t]=new _e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){de[t]=new _e(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sl=/[\-:]([a-z])/g;function xl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sl,xl);de[e]=new _e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sl,xl);de[e]=new _e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sl,xl);de[e]=new _e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){de[t]=new _e(t,1,!1,t.toLowerCase(),null,!1,!1)});de.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){de[t]=new _e(t,1,!1,t.toLowerCase(),null,!0,!0)});function El(t,e,n,r){var i=de.hasOwnProperty(e)?de[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(df(e,n,i,r)&&(n=null),r||i===null?uf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gt=lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ri=Symbol.for("react.element"),Sn=Symbol.for("react.portal"),xn=Symbol.for("react.fragment"),bl=Symbol.for("react.strict_mode"),go=Symbol.for("react.profiler"),uc=Symbol.for("react.provider"),cc=Symbol.for("react.context"),jl=Symbol.for("react.forward_ref"),mo=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Tl=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),dc=Symbol.for("react.offscreen"),ka=Symbol.iterator;function nr(t){return t===null||typeof t!="object"?null:(t=ka&&t[ka]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,Rs;function dr(t){if(Rs===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rs=e&&e[1]||""}return`
`+Rs+t}var As=!1;function Is(t,e){if(!t||As)return"";As=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{As=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dr(t):""}function hf(t){switch(t.tag){case 5:return dr(t.type);case 16:return dr("Lazy");case 13:return dr("Suspense");case 19:return dr("SuspenseList");case 0:case 2:case 15:return t=Is(t.type,!1),t;case 11:return t=Is(t.type.render,!1),t;case 1:return t=Is(t.type,!0),t;default:return""}}function yo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xn:return"Fragment";case Sn:return"Portal";case go:return"Profiler";case bl:return"StrictMode";case mo:return"Suspense";case vo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cc:return(t.displayName||"Context")+".Consumer";case uc:return(t._context.displayName||"Context")+".Provider";case jl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tl:return e=t.displayName||null,e!==null?e:yo(t.type)||"Memo";case kt:e=t._payload,t=t._init;try{return yo(t(e))}catch{}}return null}function ff(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yo(e);case 8:return e===bl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pf(t){var e=hc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ii(t){t._valueTracker||(t._valueTracker=pf(t))}function fc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Li(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wo(t,e){var n=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sa(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pc(t,e){e=e.checked,e!=null&&El(t,"checked",e,!1)}function _o(t,e){pc(t,e);var n=Lt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ko(t,e.type,n):e.hasOwnProperty("defaultValue")&&ko(t,e.type,Lt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xa(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ko(t,e,n){(e!=="number"||Li(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hr=Array.isArray;function In(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function So(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ea(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(hr(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lt(n)}}function gc(t,e){var n=Lt(e.value),r=Lt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ba(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var si,vc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(si=si||document.createElement("div"),si.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=si.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gf=["Webkit","ms","Moz","O"];Object.keys(mr).forEach(function(t){gf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mr[e]=mr[t]})});function yc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mr.hasOwnProperty(t)&&mr[t]?(""+e).trim():e+"px"}function wc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mf=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eo(t,e){if(e){if(mf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function bo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=null;function Cl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var To=null,$n=null,Ln=null;function ja(t){if(t=Qr(t)){if(typeof To!="function")throw Error(x(280));var e=t.stateNode;e&&(e=gs(e),To(t.stateNode,t.type,e))}}function _c(t){$n?Ln?Ln.push(t):Ln=[t]:$n=t}function kc(){if($n){var t=$n,e=Ln;if(Ln=$n=null,ja(t),e)for(t=0;t<e.length;t++)ja(e[t])}}function Sc(t,e){return t(e)}function xc(){}var $s=!1;function Ec(t,e,n){if($s)return t(e,n);$s=!0;try{return Sc(t,e,n)}finally{$s=!1,($n!==null||Ln!==null)&&(xc(),kc())}}function Or(t,e){var n=t.stateNode;if(n===null)return null;var r=gs(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Co=!1;if(dt)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){Co=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{Co=!1}function vf(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var vr=!1,Ui=null,Di=!1,Po=null,yf={onError:function(t){vr=!0,Ui=t}};function wf(t,e,n,r,i,s,o,l,a){vr=!1,Ui=null,vf.apply(yf,arguments)}function _f(t,e,n,r,i,s,o,l,a){if(wf.apply(this,arguments),vr){if(vr){var u=Ui;vr=!1,Ui=null}else throw Error(x(198));Di||(Di=!0,Po=u)}}function un(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ta(t){if(un(t)!==t)throw Error(x(188))}function kf(t){var e=t.alternate;if(!e){if(e=un(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ta(i),t;if(s===r)return Ta(i),e;s=s.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function jc(t){return t=kf(t),t!==null?Tc(t):null}function Tc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Tc(t);if(e!==null)return e;t=t.sibling}return null}var Cc=Ae.unstable_scheduleCallback,Ca=Ae.unstable_cancelCallback,Sf=Ae.unstable_shouldYield,xf=Ae.unstable_requestPaint,Z=Ae.unstable_now,Ef=Ae.unstable_getCurrentPriorityLevel,Pl=Ae.unstable_ImmediatePriority,Pc=Ae.unstable_UserBlockingPriority,Mi=Ae.unstable_NormalPriority,bf=Ae.unstable_LowPriority,Oc=Ae.unstable_IdlePriority,ds=null,rt=null;function jf(t){if(rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(ds,t,void 0,(t.current.flags&128)===128)}catch{}}var Qe=Math.clz32?Math.clz32:Pf,Tf=Math.log,Cf=Math.LN2;function Pf(t){return t>>>=0,t===0?32:31-(Tf(t)/Cf|0)|0}var oi=64,li=4194304;function fr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zi(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=fr(l):(s&=o,s!==0&&(r=fr(s)))}else o=n&~i,o!==0?r=fr(o):s!==0&&(r=fr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qe(e),i=1<<n,r|=t[n],e&=~i;return r}function Of(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Qe(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Of(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Oo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nc(){var t=oi;return oi<<=1,!(oi&4194240)&&(oi=64),t}function Ls(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qe(e),t[e]=n}function Rf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qe(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ol(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qe(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var M=0;function Rc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ac,Nl,Ic,$c,Lc,No=!1,ai=[],Ct=null,Pt=null,Ot=null,Nr=new Map,Rr=new Map,xt=[],Af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pa(t,e){switch(t){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Nr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(e.pointerId)}}function ir(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qr(e),e!==null&&Nl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function If(t,e,n,r,i){switch(e){case"focusin":return Ct=ir(Ct,t,e,n,r,i),!0;case"dragenter":return Pt=ir(Pt,t,e,n,r,i),!0;case"mouseover":return Ot=ir(Ot,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nr.set(s,ir(Nr.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rr.set(s,ir(Rr.get(s)||null,t,e,n,r,i)),!0}return!1}function Uc(t){var e=Qt(t.target);if(e!==null){var n=un(e);if(n!==null){if(e=n.tag,e===13){if(e=bc(n),e!==null){t.blockedOn=e,Lc(t.priority,function(){Ic(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ji(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ro(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jo=r,n.target.dispatchEvent(r),jo=null}else return e=Qr(n),e!==null&&Nl(e),t.blockedOn=n,!1;e.shift()}return!0}function Oa(t,e,n){ji(t)&&n.delete(e)}function $f(){No=!1,Ct!==null&&ji(Ct)&&(Ct=null),Pt!==null&&ji(Pt)&&(Pt=null),Ot!==null&&ji(Ot)&&(Ot=null),Nr.forEach(Oa),Rr.forEach(Oa)}function sr(t,e){t.blockedOn===e&&(t.blockedOn=null,No||(No=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,$f)))}function Ar(t){function e(i){return sr(i,t)}if(0<ai.length){sr(ai[0],t);for(var n=1;n<ai.length;n++){var r=ai[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ct!==null&&sr(Ct,t),Pt!==null&&sr(Pt,t),Ot!==null&&sr(Ot,t),Nr.forEach(e),Rr.forEach(e),n=0;n<xt.length;n++)r=xt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xt.length&&(n=xt[0],n.blockedOn===null);)Uc(n),n.blockedOn===null&&xt.shift()}var Un=gt.ReactCurrentBatchConfig,Fi=!0;function Lf(t,e,n,r){var i=M,s=Un.transition;Un.transition=null;try{M=1,Rl(t,e,n,r)}finally{M=i,Un.transition=s}}function Uf(t,e,n,r){var i=M,s=Un.transition;Un.transition=null;try{M=4,Rl(t,e,n,r)}finally{M=i,Un.transition=s}}function Rl(t,e,n,r){if(Fi){var i=Ro(t,e,n,r);if(i===null)Ks(t,e,r,Bi,n),Pa(t,r);else if(If(i,t,e,n,r))r.stopPropagation();else if(Pa(t,r),e&4&&-1<Af.indexOf(t)){for(;i!==null;){var s=Qr(i);if(s!==null&&Ac(s),s=Ro(t,e,n,r),s===null&&Ks(t,e,r,Bi,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ks(t,e,r,null,n)}}var Bi=null;function Ro(t,e,n,r){if(Bi=null,t=Cl(r),t=Qt(t),t!==null)if(e=un(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bi=t,null}function Dc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ef()){case Pl:return 1;case Pc:return 4;case Mi:case bf:return 16;case Oc:return 536870912;default:return 16}default:return 16}}var jt=null,Al=null,Ti=null;function Mc(){if(Ti)return Ti;var t,e=Al,n=e.length,r,i="value"in jt?jt.value:jt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ti=i.slice(t,1<r?1-r:void 0)}function Ci(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ui(){return!0}function Na(){return!1}function $e(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ui:Na,this.isPropagationStopped=Na,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),e}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=$e(Qn),Jr=Q({},Qn,{view:0,detail:0}),Df=$e(Jr),Us,Ds,or,hs=Q({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==or&&(or&&t.type==="mousemove"?(Us=t.screenX-or.screenX,Ds=t.screenY-or.screenY):Ds=Us=0,or=t),Us)},movementY:function(t){return"movementY"in t?t.movementY:Ds}}),Ra=$e(hs),Mf=Q({},hs,{dataTransfer:0}),zf=$e(Mf),Ff=Q({},Jr,{relatedTarget:0}),Ms=$e(Ff),Bf=Q({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wf=$e(Bf),Vf=Q({},Qn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hf=$e(Vf),Kf=Q({},Qn,{data:0}),Aa=$e(Kf),qf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jf[t])?!!e[t]:!1}function $l(){return Qf}var Yf=Q({},Jr,{key:function(t){if(t.key){var e=qf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ci(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(t){return t.type==="keypress"?Ci(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ci(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xf=$e(Yf),Zf=Q({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ia=$e(Zf),ep=Q({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),tp=$e(ep),np=Q({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),rp=$e(np),ip=Q({},hs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sp=$e(ip),op=[9,13,27,32],Ll=dt&&"CompositionEvent"in window,yr=null;dt&&"documentMode"in document&&(yr=document.documentMode);var lp=dt&&"TextEvent"in window&&!yr,zc=dt&&(!Ll||yr&&8<yr&&11>=yr),$a=String.fromCharCode(32),La=!1;function Fc(t,e){switch(t){case"keyup":return op.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var En=!1;function ap(t,e){switch(t){case"compositionend":return Bc(e);case"keypress":return e.which!==32?null:(La=!0,$a);case"textInput":return t=e.data,t===$a&&La?null:t;default:return null}}function up(t,e){if(En)return t==="compositionend"||!Ll&&Fc(t,e)?(t=Mc(),Ti=Al=jt=null,En=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zc&&e.locale!=="ko"?null:e.data;default:return null}}var cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ua(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cp[t.type]:e==="textarea"}function Wc(t,e,n,r){_c(r),e=Wi(e,"onChange"),0<e.length&&(n=new Il("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wr=null,Ir=null;function dp(t){ed(t,0)}function fs(t){var e=Tn(t);if(fc(e))return t}function hp(t,e){if(t==="change")return e}var Vc=!1;if(dt){var zs;if(dt){var Fs="oninput"in document;if(!Fs){var Da=document.createElement("div");Da.setAttribute("oninput","return;"),Fs=typeof Da.oninput=="function"}zs=Fs}else zs=!1;Vc=zs&&(!document.documentMode||9<document.documentMode)}function Ma(){wr&&(wr.detachEvent("onpropertychange",Hc),Ir=wr=null)}function Hc(t){if(t.propertyName==="value"&&fs(Ir)){var e=[];Wc(e,Ir,t,Cl(t)),Ec(dp,e)}}function fp(t,e,n){t==="focusin"?(Ma(),wr=e,Ir=n,wr.attachEvent("onpropertychange",Hc)):t==="focusout"&&Ma()}function pp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fs(Ir)}function gp(t,e){if(t==="click")return fs(e)}function mp(t,e){if(t==="input"||t==="change")return fs(e)}function vp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xe=typeof Object.is=="function"?Object.is:vp;function $r(t,e){if(Xe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!po.call(e,i)||!Xe(t[i],e[i]))return!1}return!0}function za(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fa(t,e){var n=za(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=za(n)}}function Kc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Kc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qc(){for(var t=window,e=Li();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Li(t.document)}return e}function Ul(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yp(t){var e=qc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Kc(n.ownerDocument.documentElement,n)){if(r!==null&&Ul(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Fa(n,s);var o=Fa(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wp=dt&&"documentMode"in document&&11>=document.documentMode,bn=null,Ao=null,_r=null,Io=!1;function Ba(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Io||bn==null||bn!==Li(r)||(r=bn,"selectionStart"in r&&Ul(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_r&&$r(_r,r)||(_r=r,r=Wi(Ao,"onSelect"),0<r.length&&(e=new Il("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bn)))}function ci(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var jn={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},Bs={},Gc={};dt&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function ps(t){if(Bs[t])return Bs[t];if(!jn[t])return t;var e=jn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gc)return Bs[t]=e[n];return t}var Jc=ps("animationend"),Qc=ps("animationiteration"),Yc=ps("animationstart"),Xc=ps("transitionend"),Zc=new Map,Wa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dt(t,e){Zc.set(t,e),an(e,[t])}for(var Ws=0;Ws<Wa.length;Ws++){var Vs=Wa[Ws],_p=Vs.toLowerCase(),kp=Vs[0].toUpperCase()+Vs.slice(1);Dt(_p,"on"+kp)}Dt(Jc,"onAnimationEnd");Dt(Qc,"onAnimationIteration");Dt(Yc,"onAnimationStart");Dt("dblclick","onDoubleClick");Dt("focusin","onFocus");Dt("focusout","onBlur");Dt(Xc,"onTransitionEnd");Fn("onMouseEnter",["mouseout","mouseover"]);Fn("onMouseLeave",["mouseout","mouseover"]);Fn("onPointerEnter",["pointerout","pointerover"]);Fn("onPointerLeave",["pointerout","pointerover"]);an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));an("onBeforeInput",["compositionend","keypress","textInput","paste"]);an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sp=new Set("cancel close invalid load scroll toggle".split(" ").concat(pr));function Va(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_f(r,e,void 0,t),t.currentTarget=null}function ed(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Va(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Va(i,l,u),s=a}}}if(Di)throw t=Po,Di=!1,Po=null,t}function V(t,e){var n=e[Mo];n===void 0&&(n=e[Mo]=new Set);var r=t+"__bubble";n.has(r)||(td(e,t,2,!1),n.add(r))}function Hs(t,e,n){var r=0;e&&(r|=4),td(n,t,r,e)}var di="_reactListening"+Math.random().toString(36).slice(2);function Lr(t){if(!t[di]){t[di]=!0,ac.forEach(function(n){n!=="selectionchange"&&(Sp.has(n)||Hs(n,!1,t),Hs(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[di]||(e[di]=!0,Hs("selectionchange",!1,e))}}function td(t,e,n,r){switch(Dc(e)){case 1:var i=Lf;break;case 4:i=Uf;break;default:i=Rl}n=i.bind(null,e,n,t),i=void 0,!Co||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ks(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Qt(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Ec(function(){var u=s,c=Cl(n),d=[];e:{var p=Zc.get(t);if(p!==void 0){var v=Il,y=t;switch(t){case"keypress":if(Ci(n)===0)break e;case"keydown":case"keyup":v=Xf;break;case"focusin":y="focus",v=Ms;break;case"focusout":y="blur",v=Ms;break;case"beforeblur":case"afterblur":v=Ms;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=tp;break;case Jc:case Qc:case Yc:v=Wf;break;case Xc:v=rp;break;case"scroll":v=Df;break;case"wheel":v=sp;break;case"copy":case"cut":case"paste":v=Hf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ia}var k=(e&4)!==0,w=!k&&t==="scroll",g=k?p!==null?p+"Capture":null:p;k=[];for(var h=u,f;h!==null;){f=h;var _=f.stateNode;if(f.tag===5&&_!==null&&(f=_,g!==null&&(_=Or(h,g),_!=null&&k.push(Ur(h,_,f)))),w)break;h=h.return}0<k.length&&(p=new v(p,y,null,n,c),d.push({event:p,listeners:k}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==jo&&(y=n.relatedTarget||n.fromElement)&&(Qt(y)||y[ht]))break e;if((v||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?Qt(y):null,y!==null&&(w=un(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(k=Ra,_="onMouseLeave",g="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(k=Ia,_="onPointerLeave",g="onPointerEnter",h="pointer"),w=v==null?p:Tn(v),f=y==null?p:Tn(y),p=new k(_,h+"leave",v,n,c),p.target=w,p.relatedTarget=f,_=null,Qt(c)===u&&(k=new k(g,h+"enter",y,n,c),k.target=f,k.relatedTarget=w,_=k),w=_,v&&y)t:{for(k=v,g=y,h=0,f=k;f;f=hn(f))h++;for(f=0,_=g;_;_=hn(_))f++;for(;0<h-f;)k=hn(k),h--;for(;0<f-h;)g=hn(g),f--;for(;h--;){if(k===g||g!==null&&k===g.alternate)break t;k=hn(k),g=hn(g)}k=null}else k=null;v!==null&&Ha(d,p,v,k,!1),y!==null&&w!==null&&Ha(d,w,y,k,!0)}}e:{if(p=u?Tn(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var b=hp;else if(Ua(p))if(Vc)b=mp;else{b=pp;var E=fp}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=gp);if(b&&(b=b(t,u))){Wc(d,b,n,c);break e}E&&E(t,p,u),t==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&ko(p,"number",p.value)}switch(E=u?Tn(u):window,t){case"focusin":(Ua(E)||E.contentEditable==="true")&&(bn=E,Ao=u,_r=null);break;case"focusout":_r=Ao=bn=null;break;case"mousedown":Io=!0;break;case"contextmenu":case"mouseup":case"dragend":Io=!1,Ba(d,n,c);break;case"selectionchange":if(wp)break;case"keydown":case"keyup":Ba(d,n,c)}var j;if(Ll)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else En?Fc(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(zc&&n.locale!=="ko"&&(En||P!=="onCompositionStart"?P==="onCompositionEnd"&&En&&(j=Mc()):(jt=c,Al="value"in jt?jt.value:jt.textContent,En=!0)),E=Wi(u,P),0<E.length&&(P=new Aa(P,t,null,n,c),d.push({event:P,listeners:E}),j?P.data=j:(j=Bc(n),j!==null&&(P.data=j)))),(j=lp?ap(t,n):up(t,n))&&(u=Wi(u,"onBeforeInput"),0<u.length&&(c=new Aa("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=j))}ed(d,e)})}function Ur(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wi(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Or(t,n),s!=null&&r.unshift(Ur(t,s,i)),s=Or(t,e),s!=null&&r.push(Ur(t,s,i))),t=t.return}return r}function hn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ha(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Or(n,s),a!=null&&o.unshift(Ur(n,a,l))):i||(a=Or(n,s),a!=null&&o.push(Ur(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var xp=/\r\n?/g,Ep=/\u0000|\uFFFD/g;function Ka(t){return(typeof t=="string"?t:""+t).replace(xp,`
`).replace(Ep,"")}function hi(t,e,n){if(e=Ka(e),Ka(t)!==e&&n)throw Error(x(425))}function Vi(){}var $o=null,Lo=null;function Uo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Do=typeof setTimeout=="function"?setTimeout:void 0,bp=typeof clearTimeout=="function"?clearTimeout:void 0,qa=typeof Promise=="function"?Promise:void 0,jp=typeof queueMicrotask=="function"?queueMicrotask:typeof qa<"u"?function(t){return qa.resolve(null).then(t).catch(Tp)}:Do;function Tp(t){setTimeout(function(){throw t})}function qs(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ar(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ar(e)}function Nt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ga(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),nt="__reactFiber$"+Yn,Dr="__reactProps$"+Yn,ht="__reactContainer$"+Yn,Mo="__reactEvents$"+Yn,Cp="__reactListeners$"+Yn,Pp="__reactHandles$"+Yn;function Qt(t){var e=t[nt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ht]||n[nt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ga(t);t!==null;){if(n=t[nt])return n;t=Ga(t)}return e}t=n,n=t.parentNode}return null}function Qr(t){return t=t[nt]||t[ht],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function gs(t){return t[Dr]||null}var zo=[],Cn=-1;function Mt(t){return{current:t}}function H(t){0>Cn||(t.current=zo[Cn],zo[Cn]=null,Cn--)}function W(t,e){Cn++,zo[Cn]=t.current,t.current=e}var Ut={},me=Mt(Ut),be=Mt(!1),nn=Ut;function Bn(t,e){var n=t.type.contextTypes;if(!n)return Ut;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function je(t){return t=t.childContextTypes,t!=null}function Hi(){H(be),H(me)}function Ja(t,e,n){if(me.current!==Ut)throw Error(x(168));W(me,e),W(be,n)}function nd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(x(108,ff(t)||"Unknown",i));return Q({},n,r)}function Ki(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ut,nn=me.current,W(me,t),W(be,be.current),!0}function Qa(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=nd(t,e,nn),r.__reactInternalMemoizedMergedChildContext=t,H(be),H(me),W(me,t)):H(be),W(be,n)}var lt=null,ms=!1,Gs=!1;function rd(t){lt===null?lt=[t]:lt.push(t)}function Op(t){ms=!0,rd(t)}function zt(){if(!Gs&&lt!==null){Gs=!0;var t=0,e=M;try{var n=lt;for(M=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lt=null,ms=!1}catch(i){throw lt!==null&&(lt=lt.slice(t+1)),Cc(Pl,zt),i}finally{M=e,Gs=!1}}return null}var Pn=[],On=0,qi=null,Gi=0,Ue=[],De=0,rn=null,at=1,ut="";function Ht(t,e){Pn[On++]=Gi,Pn[On++]=qi,qi=t,Gi=e}function id(t,e,n){Ue[De++]=at,Ue[De++]=ut,Ue[De++]=rn,rn=t;var r=at;t=ut;var i=32-Qe(r)-1;r&=~(1<<i),n+=1;var s=32-Qe(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,at=1<<32-Qe(e)+i|n<<i|r,ut=s+t}else at=1<<s|n<<i|r,ut=t}function Dl(t){t.return!==null&&(Ht(t,1),id(t,1,0))}function Ml(t){for(;t===qi;)qi=Pn[--On],Pn[On]=null,Gi=Pn[--On],Pn[On]=null;for(;t===rn;)rn=Ue[--De],Ue[De]=null,ut=Ue[--De],Ue[De]=null,at=Ue[--De],Ue[De]=null}var Re=null,Ne=null,K=!1,Je=null;function sd(t,e){var n=Me(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ya(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Re=t,Ne=Nt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Re=t,Ne=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rn!==null?{id:at,overflow:ut}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Me(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Re=t,Ne=null,!0):!1;default:return!1}}function Fo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bo(t){if(K){var e=Ne;if(e){var n=e;if(!Ya(t,e)){if(Fo(t))throw Error(x(418));e=Nt(n.nextSibling);var r=Re;e&&Ya(t,e)?sd(r,n):(t.flags=t.flags&-4097|2,K=!1,Re=t)}}else{if(Fo(t))throw Error(x(418));t.flags=t.flags&-4097|2,K=!1,Re=t}}}function Xa(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Re=t}function fi(t){if(t!==Re)return!1;if(!K)return Xa(t),K=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uo(t.type,t.memoizedProps)),e&&(e=Ne)){if(Fo(t))throw od(),Error(x(418));for(;e;)sd(t,e),e=Nt(e.nextSibling)}if(Xa(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ne=Nt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ne=null}}else Ne=Re?Nt(t.stateNode.nextSibling):null;return!0}function od(){for(var t=Ne;t;)t=Nt(t.nextSibling)}function Wn(){Ne=Re=null,K=!1}function zl(t){Je===null?Je=[t]:Je.push(t)}var Np=gt.ReactCurrentBatchConfig;function lr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function pi(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Za(t){var e=t._init;return e(t._payload)}function ld(t){function e(g,h){if(t){var f=g.deletions;f===null?(g.deletions=[h],g.flags|=16):f.push(h)}}function n(g,h){if(!t)return null;for(;h!==null;)e(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=$t(g,h),g.index=0,g.sibling=null,g}function s(g,h,f){return g.index=f,t?(f=g.alternate,f!==null?(f=f.index,f<h?(g.flags|=2,h):f):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,h,f,_){return h===null||h.tag!==6?(h=to(f,g.mode,_),h.return=g,h):(h=i(h,f),h.return=g,h)}function a(g,h,f,_){var b=f.type;return b===xn?c(g,h,f.props.children,_,f.key):h!==null&&(h.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===kt&&Za(b)===h.type)?(_=i(h,f.props),_.ref=lr(g,h,f),_.return=g,_):(_=$i(f.type,f.key,f.props,null,g.mode,_),_.ref=lr(g,h,f),_.return=g,_)}function u(g,h,f,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==f.containerInfo||h.stateNode.implementation!==f.implementation?(h=no(f,g.mode,_),h.return=g,h):(h=i(h,f.children||[]),h.return=g,h)}function c(g,h,f,_,b){return h===null||h.tag!==7?(h=tn(f,g.mode,_,b),h.return=g,h):(h=i(h,f),h.return=g,h)}function d(g,h,f){if(typeof h=="string"&&h!==""||typeof h=="number")return h=to(""+h,g.mode,f),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ri:return f=$i(h.type,h.key,h.props,null,g.mode,f),f.ref=lr(g,null,h),f.return=g,f;case Sn:return h=no(h,g.mode,f),h.return=g,h;case kt:var _=h._init;return d(g,_(h._payload),f)}if(hr(h)||nr(h))return h=tn(h,g.mode,f,null),h.return=g,h;pi(g,h)}return null}function p(g,h,f,_){var b=h!==null?h.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return b!==null?null:l(g,h,""+f,_);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ri:return f.key===b?a(g,h,f,_):null;case Sn:return f.key===b?u(g,h,f,_):null;case kt:return b=f._init,p(g,h,b(f._payload),_)}if(hr(f)||nr(f))return b!==null?null:c(g,h,f,_,null);pi(g,f)}return null}function v(g,h,f,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(f)||null,l(h,g,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ri:return g=g.get(_.key===null?f:_.key)||null,a(h,g,_,b);case Sn:return g=g.get(_.key===null?f:_.key)||null,u(h,g,_,b);case kt:var E=_._init;return v(g,h,f,E(_._payload),b)}if(hr(_)||nr(_))return g=g.get(f)||null,c(h,g,_,b,null);pi(h,_)}return null}function y(g,h,f,_){for(var b=null,E=null,j=h,P=h=0,L=null;j!==null&&P<f.length;P++){j.index>P?(L=j,j=null):L=j.sibling;var I=p(g,j,f[P],_);if(I===null){j===null&&(j=L);break}t&&j&&I.alternate===null&&e(g,j),h=s(I,h,P),E===null?b=I:E.sibling=I,E=I,j=L}if(P===f.length)return n(g,j),K&&Ht(g,P),b;if(j===null){for(;P<f.length;P++)j=d(g,f[P],_),j!==null&&(h=s(j,h,P),E===null?b=j:E.sibling=j,E=j);return K&&Ht(g,P),b}for(j=r(g,j);P<f.length;P++)L=v(j,g,P,f[P],_),L!==null&&(t&&L.alternate!==null&&j.delete(L.key===null?P:L.key),h=s(L,h,P),E===null?b=L:E.sibling=L,E=L);return t&&j.forEach(function(Ce){return e(g,Ce)}),K&&Ht(g,P),b}function k(g,h,f,_){var b=nr(f);if(typeof b!="function")throw Error(x(150));if(f=b.call(f),f==null)throw Error(x(151));for(var E=b=null,j=h,P=h=0,L=null,I=f.next();j!==null&&!I.done;P++,I=f.next()){j.index>P?(L=j,j=null):L=j.sibling;var Ce=p(g,j,I.value,_);if(Ce===null){j===null&&(j=L);break}t&&j&&Ce.alternate===null&&e(g,j),h=s(Ce,h,P),E===null?b=Ce:E.sibling=Ce,E=Ce,j=L}if(I.done)return n(g,j),K&&Ht(g,P),b;if(j===null){for(;!I.done;P++,I=f.next())I=d(g,I.value,_),I!==null&&(h=s(I,h,P),E===null?b=I:E.sibling=I,E=I);return K&&Ht(g,P),b}for(j=r(g,j);!I.done;P++,I=f.next())I=v(j,g,P,I.value,_),I!==null&&(t&&I.alternate!==null&&j.delete(I.key===null?P:I.key),h=s(I,h,P),E===null?b=I:E.sibling=I,E=I);return t&&j.forEach(function(F){return e(g,F)}),K&&Ht(g,P),b}function w(g,h,f,_){if(typeof f=="object"&&f!==null&&f.type===xn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ri:e:{for(var b=f.key,E=h;E!==null;){if(E.key===b){if(b=f.type,b===xn){if(E.tag===7){n(g,E.sibling),h=i(E,f.props.children),h.return=g,g=h;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===kt&&Za(b)===E.type){n(g,E.sibling),h=i(E,f.props),h.ref=lr(g,E,f),h.return=g,g=h;break e}n(g,E);break}else e(g,E);E=E.sibling}f.type===xn?(h=tn(f.props.children,g.mode,_,f.key),h.return=g,g=h):(_=$i(f.type,f.key,f.props,null,g.mode,_),_.ref=lr(g,h,f),_.return=g,g=_)}return o(g);case Sn:e:{for(E=f.key;h!==null;){if(h.key===E)if(h.tag===4&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){n(g,h.sibling),h=i(h,f.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else e(g,h);h=h.sibling}h=no(f,g.mode,_),h.return=g,g=h}return o(g);case kt:return E=f._init,w(g,h,E(f._payload),_)}if(hr(f))return y(g,h,f,_);if(nr(f))return k(g,h,f,_);pi(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,h!==null&&h.tag===6?(n(g,h.sibling),h=i(h,f),h.return=g,g=h):(n(g,h),h=to(f,g.mode,_),h.return=g,g=h),o(g)):n(g,h)}return w}var Vn=ld(!0),ad=ld(!1),Ji=Mt(null),Qi=null,Nn=null,Fl=null;function Bl(){Fl=Nn=Qi=null}function Wl(t){var e=Ji.current;H(Ji),t._currentValue=e}function Wo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dn(t,e){Qi=t,Fl=Nn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ee=!0),t.firstContext=null)}function Be(t){var e=t._currentValue;if(Fl!==t)if(t={context:t,memoizedValue:e,next:null},Nn===null){if(Qi===null)throw Error(x(308));Nn=t,Qi.dependencies={lanes:0,firstContext:t}}else Nn=Nn.next=t;return e}var Yt=null;function Vl(t){Yt===null?Yt=[t]:Yt.push(t)}function ud(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vl(e)):(n.next=i.next,i.next=n),e.interleaved=n,ft(t,r)}function ft(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var St=!1;function Hl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ct(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ft(t,n)}return i=r.interleaved,i===null?(e.next=e,Vl(r)):(e.next=i.next,i.next=e),r.interleaved=e,ft(t,n)}function Pi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ol(t,n)}}function eu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yi(t,e,n,r){var i=t.updateQueue;St=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var p=l.lane,v=l.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,k=l;switch(p=e,v=n,k.tag){case 1:if(y=k.payload,typeof y=="function"){d=y.call(v,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=k.payload,p=typeof y=="function"?y.call(v,d,p):y,p==null)break e;d=Q({},d,p);break e;case 2:St=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=v,a=d):c=c.next=v,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);on|=o,t.lanes=o,t.memoizedState=d}}function tu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var Yr={},it=Mt(Yr),Mr=Mt(Yr),zr=Mt(Yr);function Xt(t){if(t===Yr)throw Error(x(174));return t}function Kl(t,e){switch(W(zr,e),W(Mr,t),W(it,Yr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xo(e,t)}H(it),W(it,e)}function Hn(){H(it),H(Mr),H(zr)}function dd(t){Xt(zr.current);var e=Xt(it.current),n=xo(e,t.type);e!==n&&(W(Mr,t),W(it,n))}function ql(t){Mr.current===t&&(H(it),H(Mr))}var G=Mt(0);function Xi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Js=[];function Gl(){for(var t=0;t<Js.length;t++)Js[t]._workInProgressVersionPrimary=null;Js.length=0}var Oi=gt.ReactCurrentDispatcher,Qs=gt.ReactCurrentBatchConfig,sn=0,J=null,se=null,le=null,Zi=!1,kr=!1,Fr=0,Rp=0;function fe(){throw Error(x(321))}function Jl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xe(t[n],e[n]))return!1;return!0}function Ql(t,e,n,r,i,s){if(sn=s,J=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oi.current=t===null||t.memoizedState===null?Lp:Up,t=n(r,i),kr){s=0;do{if(kr=!1,Fr=0,25<=s)throw Error(x(301));s+=1,le=se=null,e.updateQueue=null,Oi.current=Dp,t=n(r,i)}while(kr)}if(Oi.current=es,e=se!==null&&se.next!==null,sn=0,le=se=J=null,Zi=!1,e)throw Error(x(300));return t}function Yl(){var t=Fr!==0;return Fr=0,t}function et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?J.memoizedState=le=t:le=le.next=t,le}function We(){if(se===null){var t=J.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=le===null?J.memoizedState:le.next;if(e!==null)le=e,se=t;else{if(t===null)throw Error(x(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},le===null?J.memoizedState=le=t:le=le.next=t}return le}function Br(t,e){return typeof e=="function"?e(t):e}function Ys(t){var e=We(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=se,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((sn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,J.lanes|=c,on|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Xe(r,e.memoizedState)||(Ee=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,J.lanes|=s,on|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xs(t){var e=We(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Xe(s,e.memoizedState)||(Ee=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function hd(){}function fd(t,e){var n=J,r=We(),i=e(),s=!Xe(r.memoizedState,i);if(s&&(r.memoizedState=i,Ee=!0),r=r.queue,Xl(md.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||le!==null&&le.memoizedState.tag&1){if(n.flags|=2048,Wr(9,gd.bind(null,n,r,i,e),void 0,null),ae===null)throw Error(x(349));sn&30||pd(n,e,i)}return i}function pd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gd(t,e,n,r){e.value=n,e.getSnapshot=r,vd(e)&&yd(t)}function md(t,e,n){return n(function(){vd(e)&&yd(t)})}function vd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xe(t,n)}catch{return!0}}function yd(t){var e=ft(t,1);e!==null&&Ye(e,t,1,-1)}function nu(t){var e=et();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:t},e.queue=t,t=t.dispatch=$p.bind(null,J,t),[e.memoizedState,t]}function Wr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wd(){return We().memoizedState}function Ni(t,e,n,r){var i=et();J.flags|=t,i.memoizedState=Wr(1|e,n,void 0,r===void 0?null:r)}function vs(t,e,n,r){var i=We();r=r===void 0?null:r;var s=void 0;if(se!==null){var o=se.memoizedState;if(s=o.destroy,r!==null&&Jl(r,o.deps)){i.memoizedState=Wr(e,n,s,r);return}}J.flags|=t,i.memoizedState=Wr(1|e,n,s,r)}function ru(t,e){return Ni(8390656,8,t,e)}function Xl(t,e){return vs(2048,8,t,e)}function _d(t,e){return vs(4,2,t,e)}function kd(t,e){return vs(4,4,t,e)}function Sd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xd(t,e,n){return n=n!=null?n.concat([t]):null,vs(4,4,Sd.bind(null,e,t),n)}function Zl(){}function Ed(t,e){var n=We();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bd(t,e){var n=We();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jd(t,e,n){return sn&21?(Xe(n,e)||(n=Nc(),J.lanes|=n,on|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ee=!0),t.memoizedState=n)}function Ap(t,e){var n=M;M=n!==0&&4>n?n:4,t(!0);var r=Qs.transition;Qs.transition={};try{t(!1),e()}finally{M=n,Qs.transition=r}}function Td(){return We().memoizedState}function Ip(t,e,n){var r=It(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cd(t))Pd(e,n);else if(n=ud(t,e,n,r),n!==null){var i=ye();Ye(n,t,r,i),Od(n,e,r)}}function $p(t,e,n){var r=It(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cd(t))Pd(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Xe(l,o)){var a=e.interleaved;a===null?(i.next=i,Vl(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=ud(t,e,i,r),n!==null&&(i=ye(),Ye(n,t,r,i),Od(n,e,r))}}function Cd(t){var e=t.alternate;return t===J||e!==null&&e===J}function Pd(t,e){kr=Zi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Od(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ol(t,n)}}var es={readContext:Be,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},Lp={readContext:Be,useCallback:function(t,e){return et().memoizedState=[t,e===void 0?null:e],t},useContext:Be,useEffect:ru,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ni(4194308,4,Sd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ni(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ni(4,2,t,e)},useMemo:function(t,e){var n=et();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=et();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ip.bind(null,J,t),[r.memoizedState,t]},useRef:function(t){var e=et();return t={current:t},e.memoizedState=t},useState:nu,useDebugValue:Zl,useDeferredValue:function(t){return et().memoizedState=t},useTransition:function(){var t=nu(!1),e=t[0];return t=Ap.bind(null,t[1]),et().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=J,i=et();if(K){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),ae===null)throw Error(x(349));sn&30||pd(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ru(md.bind(null,r,s,t),[t]),r.flags|=2048,Wr(9,gd.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=et(),e=ae.identifierPrefix;if(K){var n=ut,r=at;n=(r&~(1<<32-Qe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Rp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Up={readContext:Be,useCallback:Ed,useContext:Be,useEffect:Xl,useImperativeHandle:xd,useInsertionEffect:_d,useLayoutEffect:kd,useMemo:bd,useReducer:Ys,useRef:wd,useState:function(){return Ys(Br)},useDebugValue:Zl,useDeferredValue:function(t){var e=We();return jd(e,se.memoizedState,t)},useTransition:function(){var t=Ys(Br)[0],e=We().memoizedState;return[t,e]},useMutableSource:hd,useSyncExternalStore:fd,useId:Td,unstable_isNewReconciler:!1},Dp={readContext:Be,useCallback:Ed,useContext:Be,useEffect:Xl,useImperativeHandle:xd,useInsertionEffect:_d,useLayoutEffect:kd,useMemo:bd,useReducer:Xs,useRef:wd,useState:function(){return Xs(Br)},useDebugValue:Zl,useDeferredValue:function(t){var e=We();return se===null?e.memoizedState=t:jd(e,se.memoizedState,t)},useTransition:function(){var t=Xs(Br)[0],e=We().memoizedState;return[t,e]},useMutableSource:hd,useSyncExternalStore:fd,useId:Td,unstable_isNewReconciler:!1};function Ke(t,e){if(t&&t.defaultProps){e=Q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ys={isMounted:function(t){return(t=t._reactInternals)?un(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ye(),i=It(t),s=ct(r,i);s.payload=e,n!=null&&(s.callback=n),e=Rt(t,s,i),e!==null&&(Ye(e,t,i,r),Pi(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ye(),i=It(t),s=ct(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Rt(t,s,i),e!==null&&(Ye(e,t,i,r),Pi(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ye(),r=It(t),i=ct(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rt(t,i,r),e!==null&&(Ye(e,t,r,n),Pi(e,t,r))}};function iu(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!$r(n,r)||!$r(i,s):!0}function Nd(t,e,n){var r=!1,i=Ut,s=e.contextType;return typeof s=="object"&&s!==null?s=Be(s):(i=je(e)?nn:me.current,r=e.contextTypes,s=(r=r!=null)?Bn(t,i):Ut),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ys,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function su(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ys.enqueueReplaceState(e,e.state,null)}function Ho(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Hl(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Be(s):(s=je(e)?nn:me.current,i.context=Bn(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Vo(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ys.enqueueReplaceState(i,i.state,null),Yi(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Kn(t,e){try{var n="",r=e;do n+=hf(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Zs(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ko(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Mp=typeof WeakMap=="function"?WeakMap:Map;function Rd(t,e,n){n=ct(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ns||(ns=!0,nl=r),Ko(t,e)},n}function Ad(t,e,n){n=ct(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ko(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ko(t,e),typeof r!="function"&&(At===null?At=new Set([this]):At.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ou(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Mp;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Zp.bind(null,t,e,n),e.then(t,t))}function lu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function au(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ct(-1,1),e.tag=2,Rt(n,e,1))),n.lanes|=1),t)}var zp=gt.ReactCurrentOwner,Ee=!1;function ve(t,e,n,r){e.child=t===null?ad(e,null,n,r):Vn(e,t.child,n,r)}function uu(t,e,n,r,i){n=n.render;var s=e.ref;return Dn(e,i),r=Ql(t,e,n,r,s,i),n=Yl(),t!==null&&!Ee?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pt(t,e,i)):(K&&n&&Dl(e),e.flags|=1,ve(t,e,r,i),e.child)}function cu(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!la(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Id(t,e,s,r,i)):(t=$i(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:$r,n(o,r)&&t.ref===e.ref)return pt(t,e,i)}return e.flags|=1,t=$t(s,r),t.ref=e.ref,t.return=e,e.child=t}function Id(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if($r(s,r)&&t.ref===e.ref)if(Ee=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ee=!0);else return e.lanes=t.lanes,pt(t,e,i)}return qo(t,e,n,r,i)}function $d(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(An,Oe),Oe|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,W(An,Oe),Oe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,W(An,Oe),Oe|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,W(An,Oe),Oe|=r;return ve(t,e,i,n),e.child}function Ld(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qo(t,e,n,r,i){var s=je(n)?nn:me.current;return s=Bn(e,s),Dn(e,i),n=Ql(t,e,n,r,s,i),r=Yl(),t!==null&&!Ee?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pt(t,e,i)):(K&&r&&Dl(e),e.flags|=1,ve(t,e,n,i),e.child)}function du(t,e,n,r,i){if(je(n)){var s=!0;Ki(e)}else s=!1;if(Dn(e,i),e.stateNode===null)Ri(t,e),Nd(e,n,r),Ho(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Be(u):(u=je(n)?nn:me.current,u=Bn(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&su(e,o,r,u),St=!1;var p=e.memoizedState;o.state=p,Yi(e,r,o,i),a=e.memoizedState,l!==r||p!==a||be.current||St?(typeof c=="function"&&(Vo(e,n,c,r),a=e.memoizedState),(l=St||iu(e,n,l,r,p,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,cd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ke(e.type,l),o.props=u,d=e.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Be(a):(a=je(n)?nn:me.current,a=Bn(e,a));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||p!==a)&&su(e,o,r,a),St=!1,p=e.memoizedState,o.state=p,Yi(e,r,o,i);var y=e.memoizedState;l!==d||p!==y||be.current||St?(typeof v=="function"&&(Vo(e,n,v,r),y=e.memoizedState),(u=St||iu(e,n,u,r,p,y,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Go(t,e,n,r,s,i)}function Go(t,e,n,r,i,s){Ld(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Qa(e,n,!1),pt(t,e,s);r=e.stateNode,zp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vn(e,t.child,null,s),e.child=Vn(e,null,l,s)):ve(t,e,l,s),e.memoizedState=r.state,i&&Qa(e,n,!0),e.child}function Ud(t){var e=t.stateNode;e.pendingContext?Ja(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ja(t,e.context,!1),Kl(t,e.containerInfo)}function hu(t,e,n,r,i){return Wn(),zl(i),e.flags|=256,ve(t,e,n,r),e.child}var Jo={dehydrated:null,treeContext:null,retryLane:0};function Qo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dd(t,e,n){var r=e.pendingProps,i=G.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),W(G,i&1),t===null)return Bo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ks(o,r,0,null),t=tn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qo(n),e.memoizedState=Jo,t):ea(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Fp(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=$t(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=$t(l,s):(s=tn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Qo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Jo,r}return s=t.child,t=s.sibling,r=$t(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ea(t,e){return e=ks({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gi(t,e,n,r){return r!==null&&zl(r),Vn(e,t.child,null,n),t=ea(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fp(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Zs(Error(x(422))),gi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ks({mode:"visible",children:r.children},i,0,null),s=tn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Vn(e,t.child,null,o),e.child.memoizedState=Qo(o),e.memoizedState=Jo,s);if(!(e.mode&1))return gi(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(x(419)),r=Zs(s,r,void 0),gi(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ee||l){if(r=ae,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ft(t,i),Ye(r,t,i,-1))}return oa(),r=Zs(Error(x(421))),gi(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eg.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ne=Nt(i.nextSibling),Re=e,K=!0,Je=null,t!==null&&(Ue[De++]=at,Ue[De++]=ut,Ue[De++]=rn,at=t.id,ut=t.overflow,rn=e),e=ea(e,r.children),e.flags|=4096,e)}function fu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wo(t.return,e,n)}function eo(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Md(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ve(t,e,r.children,n),r=G.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fu(t,n,e);else if(t.tag===19)fu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(W(G,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xi(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),eo(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xi(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}eo(e,!0,n,null,s);break;case"together":eo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ri(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),on|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=$t(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$t(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Bp(t,e,n){switch(e.tag){case 3:Ud(e),Wn();break;case 5:dd(e);break;case 1:je(e.type)&&Ki(e);break;case 4:Kl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;W(Ji,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(W(G,G.current&1),e.flags|=128,null):n&e.child.childLanes?Dd(t,e,n):(W(G,G.current&1),t=pt(t,e,n),t!==null?t.sibling:null);W(G,G.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Md(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),W(G,G.current),r)break;return null;case 22:case 23:return e.lanes=0,$d(t,e,n)}return pt(t,e,n)}var zd,Yo,Fd,Bd;zd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yo=function(){};Fd=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xt(it.current);var s=null;switch(n){case"input":i=wo(t,i),r=wo(t,r),s=[];break;case"select":i=Q({},i,{value:void 0}),r=Q({},r,{value:void 0}),s=[];break;case"textarea":i=So(t,i),r=So(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vi)}Eo(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cr.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&V("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Bd=function(t,e,n,r){n!==r&&(e.flags|=4)};function ar(t,e){if(!K)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Wp(t,e,n){var r=e.pendingProps;switch(Ml(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(e),null;case 1:return je(e.type)&&Hi(),pe(e),null;case 3:return r=e.stateNode,Hn(),H(be),H(me),Gl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Je!==null&&(sl(Je),Je=null))),Yo(t,e),pe(e),null;case 5:ql(e);var i=Xt(zr.current);if(n=e.type,t!==null&&e.stateNode!=null)Fd(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return pe(e),null}if(t=Xt(it.current),fi(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[nt]=e,r[Dr]=s,t=(e.mode&1)!==0,n){case"dialog":V("cancel",r),V("close",r);break;case"iframe":case"object":case"embed":V("load",r);break;case"video":case"audio":for(i=0;i<pr.length;i++)V(pr[i],r);break;case"source":V("error",r);break;case"img":case"image":case"link":V("error",r),V("load",r);break;case"details":V("toggle",r);break;case"input":Sa(r,s),V("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},V("invalid",r);break;case"textarea":Ea(r,s),V("invalid",r)}Eo(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&hi(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&hi(r.textContent,l,t),i=["children",""+l]):Cr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&V("scroll",r)}switch(n){case"input":ii(r),xa(r,s,!0);break;case"textarea":ii(r),ba(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vi)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nt]=e,t[Dr]=r,zd(t,e,!1,!1),e.stateNode=t;e:{switch(o=bo(n,r),n){case"dialog":V("cancel",t),V("close",t),i=r;break;case"iframe":case"object":case"embed":V("load",t),i=r;break;case"video":case"audio":for(i=0;i<pr.length;i++)V(pr[i],t);i=r;break;case"source":V("error",t),i=r;break;case"img":case"image":case"link":V("error",t),V("load",t),i=r;break;case"details":V("toggle",t),i=r;break;case"input":Sa(t,r),i=wo(t,r),V("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Q({},r,{value:void 0}),V("invalid",t);break;case"textarea":Ea(t,r),i=So(t,r),V("invalid",t);break;default:i=r}Eo(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?wc(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&vc(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Pr(t,a):typeof a=="number"&&Pr(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cr.hasOwnProperty(s)?a!=null&&s==="onScroll"&&V("scroll",t):a!=null&&El(t,s,a,o))}switch(n){case"input":ii(t),xa(t,r,!1);break;case"textarea":ii(t),ba(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lt(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?In(t,!!r.multiple,s,!1):r.defaultValue!=null&&In(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pe(e),null;case 6:if(t&&e.stateNode!=null)Bd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=Xt(zr.current),Xt(it.current),fi(e)){if(r=e.stateNode,n=e.memoizedProps,r[nt]=e,(s=r.nodeValue!==n)&&(t=Re,t!==null))switch(t.tag){case 3:hi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hi(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nt]=e,e.stateNode=r}return pe(e),null;case 13:if(H(G),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(K&&Ne!==null&&e.mode&1&&!(e.flags&128))od(),Wn(),e.flags|=98560,s=!1;else if(s=fi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(x(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(x(317));s[nt]=e}else Wn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pe(e),s=!1}else Je!==null&&(sl(Je),Je=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||G.current&1?oe===0&&(oe=3):oa())),e.updateQueue!==null&&(e.flags|=4),pe(e),null);case 4:return Hn(),Yo(t,e),t===null&&Lr(e.stateNode.containerInfo),pe(e),null;case 10:return Wl(e.type._context),pe(e),null;case 17:return je(e.type)&&Hi(),pe(e),null;case 19:if(H(G),s=e.memoizedState,s===null)return pe(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ar(s,!1);else{if(oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xi(t),o!==null){for(e.flags|=128,ar(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return W(G,G.current&1|2),e.child}t=t.sibling}s.tail!==null&&Z()>qn&&(e.flags|=128,r=!0,ar(s,!1),e.lanes=4194304)}else{if(!r)if(t=Xi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ar(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!K)return pe(e),null}else 2*Z()-s.renderingStartTime>qn&&n!==1073741824&&(e.flags|=128,r=!0,ar(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Z(),e.sibling=null,n=G.current,W(G,r?n&1|2:n&1),e):(pe(e),null);case 22:case 23:return sa(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Oe&1073741824&&(pe(e),e.subtreeFlags&6&&(e.flags|=8192)):pe(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function Vp(t,e){switch(Ml(e),e.tag){case 1:return je(e.type)&&Hi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hn(),H(be),H(me),Gl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ql(e),null;case 13:if(H(G),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));Wn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(G),null;case 4:return Hn(),null;case 10:return Wl(e.type._context),null;case 22:case 23:return sa(),null;case 24:return null;default:return null}}var mi=!1,ge=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,C=null;function Rn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Y(t,e,r)}else n.current=null}function Xo(t,e,n){try{n()}catch(r){Y(t,e,r)}}var pu=!1;function Kp(t,e){if($o=Fi,t=qc(),Ul(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=t,p=null;t:for(;;){for(var v;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)p=d,d=v;for(;;){if(d===t)break t;if(p===n&&++u===i&&(l=o),p===s&&++c===r&&(a=o),(v=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lo={focusedElem:t,selectionRange:n},Fi=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var k=y.memoizedProps,w=y.memoizedState,g=e.stateNode,h=g.getSnapshotBeforeUpdate(e.elementType===e.type?k:Ke(e.type,k),w);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(_){Y(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return y=pu,pu=!1,y}function Sr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xo(e,n,s)}i=i.next}while(i!==r)}}function ws(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Wd(t){var e=t.alternate;e!==null&&(t.alternate=null,Wd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nt],delete e[Dr],delete e[Mo],delete e[Cp],delete e[Pp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vd(t){return t.tag===5||t.tag===3||t.tag===4}function gu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function el(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vi));else if(r!==4&&(t=t.child,t!==null))for(el(t,e,n),t=t.sibling;t!==null;)el(t,e,n),t=t.sibling}function tl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tl(t,e,n),t=t.sibling;t!==null;)tl(t,e,n),t=t.sibling}var ue=null,qe=!1;function yt(t,e,n){for(n=n.child;n!==null;)Hd(t,e,n),n=n.sibling}function Hd(t,e,n){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(ds,n)}catch{}switch(n.tag){case 5:ge||Rn(n,e);case 6:var r=ue,i=qe;ue=null,yt(t,e,n),ue=r,qe=i,ue!==null&&(qe?(t=ue,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ue.removeChild(n.stateNode));break;case 18:ue!==null&&(qe?(t=ue,n=n.stateNode,t.nodeType===8?qs(t.parentNode,n):t.nodeType===1&&qs(t,n),Ar(t)):qs(ue,n.stateNode));break;case 4:r=ue,i=qe,ue=n.stateNode.containerInfo,qe=!0,yt(t,e,n),ue=r,qe=i;break;case 0:case 11:case 14:case 15:if(!ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Xo(n,e,o),i=i.next}while(i!==r)}yt(t,e,n);break;case 1:if(!ge&&(Rn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Y(n,e,l)}yt(t,e,n);break;case 21:yt(t,e,n);break;case 22:n.mode&1?(ge=(r=ge)||n.memoizedState!==null,yt(t,e,n),ge=r):yt(t,e,n);break;default:yt(t,e,n)}}function mu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Hp),e.forEach(function(r){var i=tg.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ve(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ue=l.stateNode,qe=!1;break e;case 3:ue=l.stateNode.containerInfo,qe=!0;break e;case 4:ue=l.stateNode.containerInfo,qe=!0;break e}l=l.return}if(ue===null)throw Error(x(160));Hd(s,o,i),ue=null,qe=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Y(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Kd(e,t),e=e.sibling}function Kd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ve(e,t),Ze(t),r&4){try{Sr(3,t,t.return),ws(3,t)}catch(k){Y(t,t.return,k)}try{Sr(5,t,t.return)}catch(k){Y(t,t.return,k)}}break;case 1:Ve(e,t),Ze(t),r&512&&n!==null&&Rn(n,n.return);break;case 5:if(Ve(e,t),Ze(t),r&512&&n!==null&&Rn(n,n.return),t.flags&32){var i=t.stateNode;try{Pr(i,"")}catch(k){Y(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&pc(i,s),bo(l,o);var u=bo(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?wc(i,d):c==="dangerouslySetInnerHTML"?vc(i,d):c==="children"?Pr(i,d):El(i,c,d,u)}switch(l){case"input":_o(i,s);break;case"textarea":gc(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?In(i,!!s.multiple,v,!1):p!==!!s.multiple&&(s.defaultValue!=null?In(i,!!s.multiple,s.defaultValue,!0):In(i,!!s.multiple,s.multiple?[]:"",!1))}i[Dr]=s}catch(k){Y(t,t.return,k)}}break;case 6:if(Ve(e,t),Ze(t),r&4){if(t.stateNode===null)throw Error(x(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){Y(t,t.return,k)}}break;case 3:if(Ve(e,t),Ze(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ar(e.containerInfo)}catch(k){Y(t,t.return,k)}break;case 4:Ve(e,t),Ze(t);break;case 13:Ve(e,t),Ze(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ra=Z())),r&4&&mu(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ge=(u=ge)||c,Ve(e,t),ge=u):Ve(e,t),Ze(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(C=t,c=t.child;c!==null;){for(d=C=c;C!==null;){switch(p=C,v=p.child,p.tag){case 0:case 11:case 14:case 15:Sr(4,p,p.return);break;case 1:Rn(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(k){Y(r,n,k)}}break;case 5:Rn(p,p.return);break;case 22:if(p.memoizedState!==null){yu(d);continue}}v!==null?(v.return=p,C=v):yu(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=yc("display",o))}catch(k){Y(t,t.return,k)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(k){Y(t,t.return,k)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ve(e,t),Ze(t),r&4&&mu(t);break;case 21:break;default:Ve(e,t),Ze(t)}}function Ze(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Vd(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pr(i,""),r.flags&=-33);var s=gu(t);tl(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=gu(t);el(t,l,o);break;default:throw Error(x(161))}}catch(a){Y(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qp(t,e,n){C=t,qd(t)}function qd(t,e,n){for(var r=(t.mode&1)!==0;C!==null;){var i=C,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||mi;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ge;l=mi;var u=ge;if(mi=o,(ge=a)&&!u)for(C=i;C!==null;)o=C,a=o.child,o.tag===22&&o.memoizedState!==null?wu(i):a!==null?(a.return=o,C=a):wu(i);for(;s!==null;)C=s,qd(s),s=s.sibling;C=i,mi=l,ge=u}vu(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,C=s):vu(t)}}function vu(t){for(;C!==null;){var e=C;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ge||ws(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ge)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ke(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tu(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tu(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ar(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}ge||e.flags&512&&Zo(e)}catch(p){Y(e,e.return,p)}}if(e===t){C=null;break}if(n=e.sibling,n!==null){n.return=e.return,C=n;break}C=e.return}}function yu(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var n=e.sibling;if(n!==null){n.return=e.return,C=n;break}C=e.return}}function wu(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ws(4,e)}catch(a){Y(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Y(e,i,a)}}var s=e.return;try{Zo(e)}catch(a){Y(e,s,a)}break;case 5:var o=e.return;try{Zo(e)}catch(a){Y(e,o,a)}}}catch(a){Y(e,e.return,a)}if(e===t){C=null;break}var l=e.sibling;if(l!==null){l.return=e.return,C=l;break}C=e.return}}var Gp=Math.ceil,ts=gt.ReactCurrentDispatcher,ta=gt.ReactCurrentOwner,ze=gt.ReactCurrentBatchConfig,U=0,ae=null,ne=null,ce=0,Oe=0,An=Mt(0),oe=0,Vr=null,on=0,_s=0,na=0,xr=null,Se=null,ra=0,qn=1/0,st=null,ns=!1,nl=null,At=null,vi=!1,Tt=null,rs=0,Er=0,rl=null,Ai=-1,Ii=0;function ye(){return U&6?Z():Ai!==-1?Ai:Ai=Z()}function It(t){return t.mode&1?U&2&&ce!==0?ce&-ce:Np.transition!==null?(Ii===0&&(Ii=Nc()),Ii):(t=M,t!==0||(t=window.event,t=t===void 0?16:Dc(t.type)),t):1}function Ye(t,e,n,r){if(50<Er)throw Er=0,rl=null,Error(x(185));Gr(t,n,r),(!(U&2)||t!==ae)&&(t===ae&&(!(U&2)&&(_s|=n),oe===4&&Et(t,ce)),Te(t,r),n===1&&U===0&&!(e.mode&1)&&(qn=Z()+500,ms&&zt()))}function Te(t,e){var n=t.callbackNode;Nf(t,e);var r=zi(t,t===ae?ce:0);if(r===0)n!==null&&Ca(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ca(n),e===1)t.tag===0?Op(_u.bind(null,t)):rd(_u.bind(null,t)),jp(function(){!(U&6)&&zt()}),n=null;else{switch(Rc(r)){case 1:n=Pl;break;case 4:n=Pc;break;case 16:n=Mi;break;case 536870912:n=Oc;break;default:n=Mi}n=th(n,Gd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Gd(t,e){if(Ai=-1,Ii=0,U&6)throw Error(x(327));var n=t.callbackNode;if(Mn()&&t.callbackNode!==n)return null;var r=zi(t,t===ae?ce:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=is(t,r);else{e=r;var i=U;U|=2;var s=Qd();(ae!==t||ce!==e)&&(st=null,qn=Z()+500,en(t,e));do try{Yp();break}catch(l){Jd(t,l)}while(1);Bl(),ts.current=s,U=i,ne!==null?e=0:(ae=null,ce=0,e=oe)}if(e!==0){if(e===2&&(i=Oo(t),i!==0&&(r=i,e=il(t,i))),e===1)throw n=Vr,en(t,0),Et(t,r),Te(t,Z()),n;if(e===6)Et(t,r);else{if(i=t.current.alternate,!(r&30)&&!Jp(i)&&(e=is(t,r),e===2&&(s=Oo(t),s!==0&&(r=s,e=il(t,s))),e===1))throw n=Vr,en(t,0),Et(t,r),Te(t,Z()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:Kt(t,Se,st);break;case 3:if(Et(t,r),(r&130023424)===r&&(e=ra+500-Z(),10<e)){if(zi(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ye(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Do(Kt.bind(null,t,Se,st),e);break}Kt(t,Se,st);break;case 4:if(Et(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Qe(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Z()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gp(r/1960))-r,10<r){t.timeoutHandle=Do(Kt.bind(null,t,Se,st),r);break}Kt(t,Se,st);break;case 5:Kt(t,Se,st);break;default:throw Error(x(329))}}}return Te(t,Z()),t.callbackNode===n?Gd.bind(null,t):null}function il(t,e){var n=xr;return t.current.memoizedState.isDehydrated&&(en(t,e).flags|=256),t=is(t,e),t!==2&&(e=Se,Se=n,e!==null&&sl(e)),t}function sl(t){Se===null?Se=t:Se.push.apply(Se,t)}function Jp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xe(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Et(t,e){for(e&=~na,e&=~_s,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qe(e),r=1<<n;t[n]=-1,e&=~r}}function _u(t){if(U&6)throw Error(x(327));Mn();var e=zi(t,0);if(!(e&1))return Te(t,Z()),null;var n=is(t,e);if(t.tag!==0&&n===2){var r=Oo(t);r!==0&&(e=r,n=il(t,r))}if(n===1)throw n=Vr,en(t,0),Et(t,e),Te(t,Z()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kt(t,Se,st),Te(t,Z()),null}function ia(t,e){var n=U;U|=1;try{return t(e)}finally{U=n,U===0&&(qn=Z()+500,ms&&zt())}}function ln(t){Tt!==null&&Tt.tag===0&&!(U&6)&&Mn();var e=U;U|=1;var n=ze.transition,r=M;try{if(ze.transition=null,M=1,t)return t()}finally{M=r,ze.transition=n,U=e,!(U&6)&&zt()}}function sa(){Oe=An.current,H(An)}function en(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bp(n)),ne!==null)for(n=ne.return;n!==null;){var r=n;switch(Ml(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hi();break;case 3:Hn(),H(be),H(me),Gl();break;case 5:ql(r);break;case 4:Hn();break;case 13:H(G);break;case 19:H(G);break;case 10:Wl(r.type._context);break;case 22:case 23:sa()}n=n.return}if(ae=t,ne=t=$t(t.current,null),ce=Oe=e,oe=0,Vr=null,na=_s=on=0,Se=xr=null,Yt!==null){for(e=0;e<Yt.length;e++)if(n=Yt[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yt=null}return t}function Jd(t,e){do{var n=ne;try{if(Bl(),Oi.current=es,Zi){for(var r=J.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zi=!1}if(sn=0,le=se=J=null,kr=!1,Fr=0,ta.current=null,n===null||n.return===null){oe=1,Vr=e,ne=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=ce,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=lu(o);if(v!==null){v.flags&=-257,au(v,o,l,s,e),v.mode&1&&ou(s,u,e),e=v,a=u;var y=e.updateQueue;if(y===null){var k=new Set;k.add(a),e.updateQueue=k}else y.add(a);break e}else{if(!(e&1)){ou(s,u,e),oa();break e}a=Error(x(426))}}else if(K&&l.mode&1){var w=lu(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),au(w,o,l,s,e),zl(Kn(a,l));break e}}s=a=Kn(a,l),oe!==4&&(oe=2),xr===null?xr=[s]:xr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Rd(s,a,e);eu(s,g);break e;case 1:l=a;var h=s.type,f=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(At===null||!At.has(f)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=Ad(s,l,e);eu(s,_);break e}}s=s.return}while(s!==null)}Xd(n)}catch(b){e=b,ne===n&&n!==null&&(ne=n=n.return);continue}break}while(1)}function Qd(){var t=ts.current;return ts.current=es,t===null?es:t}function oa(){(oe===0||oe===3||oe===2)&&(oe=4),ae===null||!(on&268435455)&&!(_s&268435455)||Et(ae,ce)}function is(t,e){var n=U;U|=2;var r=Qd();(ae!==t||ce!==e)&&(st=null,en(t,e));do try{Qp();break}catch(i){Jd(t,i)}while(1);if(Bl(),U=n,ts.current=r,ne!==null)throw Error(x(261));return ae=null,ce=0,oe}function Qp(){for(;ne!==null;)Yd(ne)}function Yp(){for(;ne!==null&&!Sf();)Yd(ne)}function Yd(t){var e=eh(t.alternate,t,Oe);t.memoizedProps=t.pendingProps,e===null?Xd(t):ne=e,ta.current=null}function Xd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Vp(n,e),n!==null){n.flags&=32767,ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{oe=6,ne=null;return}}else if(n=Wp(n,e,Oe),n!==null){ne=n;return}if(e=e.sibling,e!==null){ne=e;return}ne=e=t}while(e!==null);oe===0&&(oe=5)}function Kt(t,e,n){var r=M,i=ze.transition;try{ze.transition=null,M=1,Xp(t,e,n,r)}finally{ze.transition=i,M=r}return null}function Xp(t,e,n,r){do Mn();while(Tt!==null);if(U&6)throw Error(x(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Rf(t,s),t===ae&&(ne=ae=null,ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vi||(vi=!0,th(Mi,function(){return Mn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ze.transition,ze.transition=null;var o=M;M=1;var l=U;U|=4,ta.current=null,Kp(t,n),Kd(n,t),yp(Lo),Fi=!!$o,Lo=$o=null,t.current=n,qp(n),xf(),U=l,M=o,ze.transition=s}else t.current=n;if(vi&&(vi=!1,Tt=t,rs=i),s=t.pendingLanes,s===0&&(At=null),jf(n.stateNode),Te(t,Z()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ns)throw ns=!1,t=nl,nl=null,t;return rs&1&&t.tag!==0&&Mn(),s=t.pendingLanes,s&1?t===rl?Er++:(Er=0,rl=t):Er=0,zt(),null}function Mn(){if(Tt!==null){var t=Rc(rs),e=ze.transition,n=M;try{if(ze.transition=null,M=16>t?16:t,Tt===null)var r=!1;else{if(t=Tt,Tt=null,rs=0,U&6)throw Error(x(331));var i=U;for(U|=4,C=t.current;C!==null;){var s=C,o=s.child;if(C.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(C=u;C!==null;){var c=C;switch(c.tag){case 0:case 11:case 15:Sr(8,c,s)}var d=c.child;if(d!==null)d.return=c,C=d;else for(;C!==null;){c=C;var p=c.sibling,v=c.return;if(Wd(c),c===u){C=null;break}if(p!==null){p.return=v,C=p;break}C=v}}}var y=s.alternate;if(y!==null){var k=y.child;if(k!==null){y.child=null;do{var w=k.sibling;k.sibling=null,k=w}while(k!==null)}}C=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,C=o;else e:for(;C!==null;){if(s=C,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sr(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,C=g;break e}C=s.return}}var h=t.current;for(C=h;C!==null;){o=C;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,C=f;else e:for(o=h;C!==null;){if(l=C,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ws(9,l)}}catch(b){Y(l,l.return,b)}if(l===o){C=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,C=_;break e}C=l.return}}if(U=i,zt(),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(ds,t)}catch{}r=!0}return r}finally{M=n,ze.transition=e}}return!1}function ku(t,e,n){e=Kn(n,e),e=Rd(t,e,1),t=Rt(t,e,1),e=ye(),t!==null&&(Gr(t,1,e),Te(t,e))}function Y(t,e,n){if(t.tag===3)ku(t,t,n);else for(;e!==null;){if(e.tag===3){ku(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(At===null||!At.has(r))){t=Kn(n,t),t=Ad(e,t,1),e=Rt(e,t,1),t=ye(),e!==null&&(Gr(e,1,t),Te(e,t));break}}e=e.return}}function Zp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ye(),t.pingedLanes|=t.suspendedLanes&n,ae===t&&(ce&n)===n&&(oe===4||oe===3&&(ce&130023424)===ce&&500>Z()-ra?en(t,0):na|=n),Te(t,e)}function Zd(t,e){e===0&&(t.mode&1?(e=li,li<<=1,!(li&130023424)&&(li=4194304)):e=1);var n=ye();t=ft(t,e),t!==null&&(Gr(t,e,n),Te(t,n))}function eg(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Zd(t,n)}function tg(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),Zd(t,n)}var eh;eh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||be.current)Ee=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ee=!1,Bp(t,e,n);Ee=!!(t.flags&131072)}else Ee=!1,K&&e.flags&1048576&&id(e,Gi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ri(t,e),t=e.pendingProps;var i=Bn(e,me.current);Dn(e,n),i=Ql(null,e,r,t,i,n);var s=Yl();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,je(r)?(s=!0,Ki(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hl(e),i.updater=ys,e.stateNode=i,i._reactInternals=e,Ho(e,r,t,n),e=Go(null,e,r,!0,s,n)):(e.tag=0,K&&s&&Dl(e),ve(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ri(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rg(r),t=Ke(r,t),i){case 0:e=qo(null,e,r,t,n);break e;case 1:e=du(null,e,r,t,n);break e;case 11:e=uu(null,e,r,t,n);break e;case 14:e=cu(null,e,r,Ke(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),qo(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),du(t,e,r,i,n);case 3:e:{if(Ud(e),t===null)throw Error(x(387));r=e.pendingProps,s=e.memoizedState,i=s.element,cd(t,e),Yi(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Kn(Error(x(423)),e),e=hu(t,e,r,n,i);break e}else if(r!==i){i=Kn(Error(x(424)),e),e=hu(t,e,r,n,i);break e}else for(Ne=Nt(e.stateNode.containerInfo.firstChild),Re=e,K=!0,Je=null,n=ad(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wn(),r===i){e=pt(t,e,n);break e}ve(t,e,r,n)}e=e.child}return e;case 5:return dd(e),t===null&&Bo(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Uo(r,i)?o=null:s!==null&&Uo(r,s)&&(e.flags|=32),Ld(t,e),ve(t,e,o,n),e.child;case 6:return t===null&&Bo(e),null;case 13:return Dd(t,e,n);case 4:return Kl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vn(e,null,r,n):ve(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),uu(t,e,r,i,n);case 7:return ve(t,e,e.pendingProps,n),e.child;case 8:return ve(t,e,e.pendingProps.children,n),e.child;case 12:return ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,W(Ji,r._currentValue),r._currentValue=o,s!==null)if(Xe(s.value,o)){if(s.children===i.children&&!be.current){e=pt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=ct(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Wo(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(x(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Wo(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ve(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Dn(e,n),i=Be(i),r=r(i),e.flags|=1,ve(t,e,r,n),e.child;case 14:return r=e.type,i=Ke(r,e.pendingProps),i=Ke(r.type,i),cu(t,e,r,i,n);case 15:return Id(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),Ri(t,e),e.tag=1,je(r)?(t=!0,Ki(e)):t=!1,Dn(e,n),Nd(e,r,i),Ho(e,r,i,n),Go(null,e,r,!0,t,n);case 19:return Md(t,e,n);case 22:return $d(t,e,n)}throw Error(x(156,e.tag))};function th(t,e){return Cc(t,e)}function ng(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(t,e,n,r){return new ng(t,e,n,r)}function la(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rg(t){if(typeof t=="function")return la(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jl)return 11;if(t===Tl)return 14}return 2}function $t(t,e){var n=t.alternate;return n===null?(n=Me(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $i(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")la(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xn:return tn(n.children,i,s,e);case bl:o=8,i|=8;break;case go:return t=Me(12,n,e,i|2),t.elementType=go,t.lanes=s,t;case mo:return t=Me(13,n,e,i),t.elementType=mo,t.lanes=s,t;case vo:return t=Me(19,n,e,i),t.elementType=vo,t.lanes=s,t;case dc:return ks(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uc:o=10;break e;case cc:o=9;break e;case jl:o=11;break e;case Tl:o=14;break e;case kt:o=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=Me(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function tn(t,e,n,r){return t=Me(7,t,r,e),t.lanes=n,t}function ks(t,e,n,r){return t=Me(22,t,r,e),t.elementType=dc,t.lanes=n,t.stateNode={isHidden:!1},t}function to(t,e,n){return t=Me(6,t,null,e),t.lanes=n,t}function no(t,e,n){return e=Me(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ig(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ls(0),this.expirationTimes=Ls(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ls(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function aa(t,e,n,r,i,s,o,l,a){return t=new ig(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Me(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hl(s),t}function sg(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nh(t){if(!t)return Ut;t=t._reactInternals;e:{if(un(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(je(n))return nd(t,n,e)}return e}function rh(t,e,n,r,i,s,o,l,a){return t=aa(n,r,!0,t,i,s,o,l,a),t.context=nh(null),n=t.current,r=ye(),i=It(n),s=ct(r,i),s.callback=e??null,Rt(n,s,i),t.current.lanes=i,Gr(t,i,r),Te(t,r),t}function Ss(t,e,n,r){var i=e.current,s=ye(),o=It(i);return n=nh(n),e.context===null?e.context=n:e.pendingContext=n,e=ct(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rt(i,e,o),t!==null&&(Ye(t,i,o,s),Pi(t,i,o)),o}function ss(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Su(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ua(t,e){Su(t,e),(t=t.alternate)&&Su(t,e)}function og(){return null}var ih=typeof reportError=="function"?reportError:function(t){console.error(t)};function ca(t){this._internalRoot=t}xs.prototype.render=ca.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));Ss(t,e,null,null)};xs.prototype.unmount=ca.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ln(function(){Ss(null,t,null,null)}),e[ht]=null}};function xs(t){this._internalRoot=t}xs.prototype.unstable_scheduleHydration=function(t){if(t){var e=$c();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xt.length&&e!==0&&e<xt[n].priority;n++);xt.splice(n,0,t),n===0&&Uc(t)}};function da(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Es(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xu(){}function lg(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ss(o);s.call(u)}}var o=rh(e,r,t,0,null,!1,!1,"",xu);return t._reactRootContainer=o,t[ht]=o.current,Lr(t.nodeType===8?t.parentNode:t),ln(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=ss(a);l.call(u)}}var a=aa(t,0,!1,null,null,!1,!1,"",xu);return t._reactRootContainer=a,t[ht]=a.current,Lr(t.nodeType===8?t.parentNode:t),ln(function(){Ss(e,a,n,r)}),a}function bs(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=ss(o);l.call(a)}}Ss(e,o,t,i)}else o=lg(n,e,t,i,r);return ss(o)}Ac=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fr(e.pendingLanes);n!==0&&(Ol(e,n|1),Te(e,Z()),!(U&6)&&(qn=Z()+500,zt()))}break;case 13:ln(function(){var r=ft(t,1);if(r!==null){var i=ye();Ye(r,t,1,i)}}),ua(t,1)}};Nl=function(t){if(t.tag===13){var e=ft(t,134217728);if(e!==null){var n=ye();Ye(e,t,134217728,n)}ua(t,134217728)}};Ic=function(t){if(t.tag===13){var e=It(t),n=ft(t,e);if(n!==null){var r=ye();Ye(n,t,e,r)}ua(t,e)}};$c=function(){return M};Lc=function(t,e){var n=M;try{return M=t,e()}finally{M=n}};To=function(t,e,n){switch(e){case"input":if(_o(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gs(r);if(!i)throw Error(x(90));fc(r),_o(r,i)}}}break;case"textarea":gc(t,n);break;case"select":e=n.value,e!=null&&In(t,!!n.multiple,e,!1)}};Sc=ia;xc=ln;var ag={usingClientEntryPoint:!1,Events:[Qr,Tn,gs,_c,kc,ia]},ur={findFiberByHostInstance:Qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ug={bundleType:ur.bundleType,version:ur.version,rendererPackageName:ur.rendererPackageName,rendererConfig:ur.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jc(t),t===null?null:t.stateNode},findFiberByHostInstance:ur.findFiberByHostInstance||og,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yi.isDisabled&&yi.supportsFiber)try{ds=yi.inject(ug),rt=yi}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ag;Ie.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!da(e))throw Error(x(200));return sg(t,e,null,n)};Ie.createRoot=function(t,e){if(!da(t))throw Error(x(299));var n=!1,r="",i=ih;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=aa(t,1,!1,null,null,n,!1,r,i),t[ht]=e.current,Lr(t.nodeType===8?t.parentNode:t),new ca(e)};Ie.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=jc(e),t=t===null?null:t.stateNode,t};Ie.flushSync=function(t){return ln(t)};Ie.hydrate=function(t,e,n){if(!Es(e))throw Error(x(200));return bs(null,t,e,!0,n)};Ie.hydrateRoot=function(t,e,n){if(!da(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ih;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=rh(e,null,t,1,n??null,i,!1,s,o),t[ht]=e.current,Lr(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xs(e)};Ie.render=function(t,e,n){if(!Es(e))throw Error(x(200));return bs(null,t,e,!1,n)};Ie.unmountComponentAtNode=function(t){if(!Es(t))throw Error(x(40));return t._reactRootContainer?(ln(function(){bs(null,null,t,!1,function(){t._reactRootContainer=null,t[ht]=null})}),!0):!1};Ie.unstable_batchedUpdates=ia;Ie.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Es(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return bs(t,e,n,!1,r)};Ie.version="18.3.1-next-f1338f8080-20240426";function sh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sh)}catch(t){console.error(t)}}sh(),sc.exports=Ie;var cg=sc.exports,Eu=cg;fo.createRoot=Eu.createRoot,fo.hydrateRoot=Eu.hydrateRoot;function fn({children:t,className:e="",...n}){return m.jsx("button",{...n,className:`px-4 py-2 rounded-lg font-medium transition ${e}`,children:t})}var dg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fg=(t,e)=>{const n=z.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:l,...a},u)=>z.createElement("svg",{ref:u,...dg,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${hg(t)}`,...a},[...e.map(([c,d])=>z.createElement(c,d)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n};var Xr=fg;const pg=Xr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),bu=Xr("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),gg=Xr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),mg=Xr("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),ju=Xr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vg="modulepreload",yg=function(t){return"/MY-FIRE-DEAL-HOLDING/"+t},Tu={},Zr=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=yg(s),s in Tu)return;Tu[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":vg,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},wg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(()=>Promise.resolve().then(()=>Xn),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ha extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Cu extends ha{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pu extends ha{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ou extends ha{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ol;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ol||(ol={}));var _g=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class kg{constructor(e,{headers:n={},customFetch:r,region:i=ol.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=wg(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _g(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:o,body:l,signal:a}=r;let u={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${n}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let p;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(u["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(u["Content-Type"]="application/json",p=JSON.stringify(l)));const v=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:p,signal:a}).catch(g=>{throw g.name==="AbortError"?g:new Cu(g)}),y=v.headers.get("x-relay-error");if(y&&y==="true")throw new Pu(v);if(!v.ok)throw new Ou(v);let k=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return k==="application/json"?w=yield v.json():k==="application/octet-stream"?w=yield v.blob():k==="text/event-stream"?w=v:k==="multipart/form-data"?w=yield v.formData():w=yield v.text(),{data:w,error:null,response:v}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Cu(s)}:{data:null,error:s,response:s instanceof Ou||s instanceof Pu?s.context:void 0}}})}}var xe={},fa={},js={},ei={},Ts={},Cs={},Sg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gn=Sg();const xg=Gn.fetch,oh=Gn.fetch.bind(Gn),lh=Gn.Headers,Eg=Gn.Request,bg=Gn.Response,Xn=Object.freeze(Object.defineProperty({__proto__:null,Headers:lh,Request:Eg,Response:bg,default:oh,fetch:xg},Symbol.toStringTag,{value:"Module"})),jg=Lh(Xn);var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});let Tg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ps.default=Tg;var ah=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cs,"__esModule",{value:!0});const Cg=ah(jg),Pg=ah(Ps);let Og=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Cg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,a,u;let c=null,d=null,p=null,v=s.status,y=s.statusText;if(s.ok){if(this.method!=="HEAD"){const h=await s.text();h===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=h:d=JSON.parse(h))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&g&&g.length>1&&(p=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,v=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await s.text();try{c=JSON.parse(w),Array.isArray(c)&&s.status===404&&(d=[],c=null,v=200,y="OK")}catch{s.status===404&&w===""?(v=204,y="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,v=200,y="OK"),c&&this.shouldThrowOnError)throw new Pg.default(c)}return{error:c,data:d,count:p,status:v,statusText:y}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,l,a;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=s==null?void 0:s.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Cs.default=Og;var Ng=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ts,"__esModule",{value:!0});const Rg=Ng(Cs);let Ag=class extends Rg.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ts.default=Ag;var Ig=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ei,"__esModule",{value:!0});const $g=Ig(Ts);let Lg=class extends $g.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ei.default=Lg;var Ug=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(js,"__esModule",{value:!0});const cr=Ug(ei);let Dg=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,n){const{head:r=!1,count:i}=n??{},s=r?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",l),i&&this.headers.append("Prefer",`count=${i}`),new cr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;const s="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new cr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new cr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new cr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new cr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};js.default=Dg;var uh=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fa,"__esModule",{value:!0});const Mg=uh(js),zg=uh(ei);let Fg=class ch{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Mg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ch(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let u;r||i?(l=r?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{a.searchParams.append(d,p)})):(l="POST",u=n);const c=new Headers(this.headers);return s&&c.set("Prefer",`count=${s}`),new zg.default({method:l,url:a,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};fa.default=Fg;var Zn=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xe,"__esModule",{value:!0});xe.PostgrestError=xe.PostgrestBuilder=xe.PostgrestTransformBuilder=xe.PostgrestFilterBuilder=xe.PostgrestQueryBuilder=xe.PostgrestClient=void 0;const dh=Zn(fa);xe.PostgrestClient=dh.default;const hh=Zn(js);xe.PostgrestQueryBuilder=hh.default;const fh=Zn(ei);xe.PostgrestFilterBuilder=fh.default;const ph=Zn(Ts);xe.PostgrestTransformBuilder=ph.default;const gh=Zn(Cs);xe.PostgrestBuilder=gh.default;const mh=Zn(Ps);xe.PostgrestError=mh.default;var Bg=xe.default={PostgrestClient:dh.default,PostgrestQueryBuilder:hh.default,PostgrestFilterBuilder:fh.default,PostgrestTransformBuilder:ph.default,PostgrestBuilder:gh.default,PostgrestError:mh.default};const{PostgrestClient:Wg,PostgrestQueryBuilder:f0,PostgrestFilterBuilder:p0,PostgrestTransformBuilder:g0,PostgrestBuilder:m0,PostgrestError:v0}=Bg;class Vg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Hg="2.75.1",Kg=`realtime-js/${Hg}`,qg="1.0.0",ll=1e4,Gg=1e3,Jg=100;var br;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(br||(br={}));var ie;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ie||(ie={}));var Ge;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ge||(Ge={}));var al;(function(t){t.websocket="websocket"})(al||(al={}));var Gt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Gt||(Gt={}));class Qg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+i));o=o+i;const a=r.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class vh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(B||(B={}));const Nu=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=Yg(o,t,e,i),s),{}):{}},Yg=(t,e,n,r)=>{const i=e.find(l=>l.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?yh(s,o):ul(o)},yh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return tm(e,n)}switch(t){case B.bool:return Xg(e);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return Zg(e);case B.json:case B.jsonb:return em(e);case B.timestamp:return nm(e);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return ul(e);default:return ul(e)}},ul=t=>t,Xg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Zg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},em=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},tm=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>yh(e,l))}return t},nm=t=>typeof t=="string"?t.replace(" ","T"):t,wh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ro{constructor(e,n,r={},i=ll){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ru;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ru||(Ru={}));class jr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jr.syncState(this.state,i,s,o),this.pendingDiffs.forEach(a=>{this.state=jr.syncDiff(this.state,a,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=jr.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(s,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const p=c.map(w=>w.presence_ref),v=d.map(w=>w.presence_ref),y=c.filter(w=>v.indexOf(w.presence_ref)<0),k=d.filter(w=>p.indexOf(w.presence_ref)<0);y.length>0&&(l[u]=y),k.length>0&&(a[u]=k)}else l[u]=c}),this.syncDiff(s,{joins:l,leaves:a},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,a)=>{var u;const c=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),c.length>0){const d=e[l].map(v=>v.presence_ref),p=c.filter(v=>d.indexOf(v.presence_ref)<0);e[l].unshift(...p)}r(l,c,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const c=a.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[l]=u,i(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Au;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Au||(Au={}));var Tr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Tr||(Tr={}));var ot;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ot||(ot={}));class pa{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ro(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new vh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new jr(this),this.broadcastEndpointURL=wh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ie.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Tr.PRESENCE]&&this.bindings[Tr.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},p={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:c}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(ot.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(ot.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(ot.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,w=(y=k==null?void 0:k.length)!==null&&y!==void 0?y:0,g=[];for(let h=0;h<w;h++){const f=k[h],{filter:{event:_,schema:b,table:E,filter:j}}=f,P=v&&v[h];if(P&&P.event===_&&P.schema===b&&P.table===E&&P.filter===j)g.push(Object.assign(Object.assign({},f),{id:P.id}));else{this.unsubscribe(),this.state=ie.errored,e==null||e(ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(ot.SUBSCRIBED);return}}).receive("error",v=>{this.state=ie.errored,e==null||e(ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ie.joined&&e===Tr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ro(this,Ge.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ie.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ro(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Jg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=Ge;if(r&&[l,a,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var y,k,w;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(k=v.filter)===null||k===void 0?void 0:k.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(v=>v.callback(p,r)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var y,k,w,g,h,f;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,b=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((k=n.ids)===null||k===void 0?void 0:k.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(h=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return _==="*"||_===((f=n==null?void 0:n.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:k,table:w,commit_timestamp:g,type:h,errors:f}=y;p=Object.assign(Object.assign({},{schema:k,table:w,commit_timestamp:g,eventType:h,new:{},old:{},errors:f}),this._getPayloadRecords(y))}v.callback(p,r)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&pa.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ge.close,{},e)}_onError(e){this._on(Ge.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Nu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Nu(e.columns,e.old_record)),n}}const io=()=>{},wi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rm=[1e3,2e3,5e3,1e4],im=1e4,sm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class om{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ll,this.transport=null,this.heartbeatIntervalMs=wi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=io,this.ref=0,this.reconnectTimer=null,this.logger=io,this.conn=null,this.sendBuffer=[],this.serializer=new Qg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Zr(()=>Promise.resolve().then(()=>Xn),void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${al.websocket}`,this.httpEndpoint=wh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Vg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qg}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case br.connecting:return Gt.Connecting;case br.open:return Gt.Open;case br.closing:return Gt.Closing;default:return Gt.Closed}}isConnected(){return this.connectionState()===Gt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new pa(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Gg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,l=o?`(${o})`:"",a=s.status||"";this.log("receive",`${a} ${r} ${i} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ge.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([sm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Kg};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ge.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new vh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,l,a,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ll,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:wi.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:io,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:d=>rm[d-1]||im,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(d,p)=>p(JSON.stringify(d)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ga extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function te(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class lm extends ga{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cl extends ga{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var am=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const _h=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(()=>Promise.resolve().then(()=>Xn),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},um=()=>am(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zr(()=>Promise.resolve().then(()=>Xn),void 0)).Response:Response}),dl=t=>{if(Array.isArray(t))return t.map(n=>dl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=dl(r)}),e},cm=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var cn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const so=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dm=(t,e,n)=>cn(void 0,void 0,void 0,function*(){const r=yield um();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new lm(so(i),s,o))}).catch(i=>{e(new cl(so(i),i))}):e(new cl(so(t),t))}),hm=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(cm(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function ti(t,e,n,r,i,s){return cn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,hm(e,r,i,s)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>dm(a,l,r))})})}function os(t,e,n,r){return cn(this,void 0,void 0,function*(){return ti(t,"GET",e,n,r)})}function tt(t,e,n,r,i){return cn(this,void 0,void 0,function*(){return ti(t,"POST",e,r,i,n)})}function hl(t,e,n,r,i){return cn(this,void 0,void 0,function*(){return ti(t,"PUT",e,r,i,n)})}function fm(t,e,n,r){return cn(this,void 0,void 0,function*(){return ti(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function kh(t,e,n,r,i){return cn(this,void 0,void 0,function*(){return ti(t,"DELETE",e,r,i,n)})}var pm=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class gm{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return pm(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(te(e))return{data:null,error:e};throw e}})}}var mm=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})},Sh;class vm{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Sh]="BlobDownloadBuilder",this.promise=null}asStream(){return new gm(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return mm(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(te(e))return{data:null,error:e};throw e}})}}Sh=Symbol.toStringTag;const ym=vm;var ke=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const wm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _m{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=_h(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return ke(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Iu),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?hl:tt)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}upload(e,n,r){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ke(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:Iu.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield hl(this.fetch,l.toString(),a,{headers:c});return{data:{path:s,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(te(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return ke(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield tt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new ga("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}update(e,n,r){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ke(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ke(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield tt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ke(this,void 0,void 0,function*(){try{const i=yield tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"",l=this._getFinalPath(e),a=()=>os(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new ym(a,this.shouldThrowOnError)}info(e){return ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield os(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:dl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}exists(e){return ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield fm(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r)&&r instanceof cl){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&i.push(a);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}list(e,n,r){return ke(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},wm),n),{prefix:e||""});return{data:yield tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}listV2(e,n){return ke(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield tt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const km="2.75.1",Sm={"X-Client-Info":`storage-js/${km}`};var pn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class xm{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sm),n),this.fetch=_h(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return pn(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(te(e))return{data:null,error:e};throw e}})}getBucket(e){return pn(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}createBucket(e){return pn(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield tt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return pn(this,void 0,void 0,function*(){try{return{data:yield hl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}emptyBucket(e){return pn(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}deleteBucket(e){return pn(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}}class Em extends xm{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new _m(this.url,this.headers,e,this.fetch)}}const bm="2.75.1";let gr="";typeof Deno<"u"?gr="deno":typeof document<"u"?gr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gr="react-native":gr="node";const jm={"X-Client-Info":`supabase-js-${gr}/${bm}`},Tm={headers:jm},Cm={schema:"public"},Pm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Om={};var Nm=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Rm=t=>{let e;return t?e=t:typeof fetch>"u"?e=oh:e=fetch,(...n)=>e(...n)},Am=()=>typeof Headers>"u"?lh:Headers,Im=(t,e,n)=>{const r=Rm(n),i=Am();return(s,o)=>Nm(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var $m=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function Lm(t){return t.endsWith("/")?t:t+"/"}function Um(t,e){var n,r;const{db:i,auth:s,realtime:o,global:l}=t,{db:a,auth:u,realtime:c,global:d}=e,p={db:Object.assign(Object.assign({},a),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>$m(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function Dm(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Lm(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const xh="2.75.1",_n=30*1e3,fl=3,oo=fl*_n,Mm="http://localhost:9999",zm="supabase.auth.token",Fm={"X-Client-Info":`gotrue-js/${xh}`},pl="X-Supabase-Api-Version",Eh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wm=10*60*1e3;class Hr extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function O(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Vm extends Hr{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Hm(t){return O(t)&&t.name==="AuthApiError"}class Jt extends Hr{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ft extends Hr{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class _t extends Ft{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Km(t){return O(t)&&t.name==="AuthSessionMissingError"}class gn extends Ft{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _i extends Ft{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ki extends Ft{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qm(t){return O(t)&&t.name==="AuthImplicitGrantRedirectError"}class $u extends Ft{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gl extends Ft{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function lo(t){return O(t)&&t.name==="AuthRetryableFetchError"}class Lu extends Ft{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ml extends Ft{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ls="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uu=` 	
\r=`.split(""),Gm=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Uu.length;e+=1)t[Uu[e].charCodeAt(0)]=-2;for(let e=0;e<ls.length;e+=1)t[ls[e].charCodeAt(0)]=e;return t})();function Du(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ls[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ls[r]),e.queuedBits-=6}}function bh(t,e,n){const r=Gm[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Mu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Ym(o,r,n)};for(let o=0;o<t.length;o+=1)bh(t.charCodeAt(o),i,s);return e.join("")}function Jm(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Qm(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Jm(r,e)}}function Ym(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function zn(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)bh(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Xm(t){const e=[];return Qm(t,n=>e.push(n)),new Uint8Array(e)}function Zt(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Du(i,n,r)),Du(null,n,r),e.join("")}function Zm(t){return Math.round(Date.now()/1e3)+t}function ev(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Pe=()=>typeof window<"u"&&typeof document<"u",Wt={tested:!1,writable:!1},jh=()=>{if(!Pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wt.tested)return Wt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wt.tested=!0,Wt.writable=!0}catch{Wt.tested=!0,Wt.writable=!1}return Wt.writable};function tv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Th=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(()=>Promise.resolve().then(()=>Xn),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},nv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",kn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Vt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wt=async(t,e)=>{await t.removeItem(e)};class Os{constructor(){this.promise=new Os.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Os.promiseConstructor=Promise;function ao(t){const e=t.split(".");if(e.length!==3)throw new ml("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Bm.test(e[r]))throw new ml("JWT not in base64url format");return{header:JSON.parse(Mu(e[0])),payload:JSON.parse(Mu(e[1])),signature:zn(e[2]),raw:{header:e[0],payload:e[1]}}}async function rv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function iv(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function sv(t){return("0"+t.toString(16)).substr(-2)}function ov(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,sv).join("")}async function lv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function av(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await lv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mn(t,e,n=!1){const r=ov();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await kn(t,`${e}-code-verifier`,i);const s=await av(r);return[s,r===s?"plain":"s256"]}const uv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cv(t){const e=t.headers.get(pl);if(!e||!e.match(uv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vn(t){if(!fv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uo(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zu(t){return JSON.parse(JSON.stringify(t))}var pv=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gv=[502,503,504];async function Fu(t){var e;if(!nv(t))throw new gl(qt(t),0);if(gv.includes(t.status))throw new gl(qt(t),t.status);let n;try{n=await t.json()}catch(s){throw new Jt(qt(s),s)}let r;const i=cv(t);if(i&&i.getTime()>=Eh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Lu(qt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new _t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Lu(qt(n),t.status,n.weak_password.reasons);throw new Vm(qt(n),t.status||500,r)}const mv=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function N(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[pl]||(s[pl]=Eh["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await vv(t,e,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function vv(t,e,n,r,i,s){const o=mv(e,r,i,s);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new gl(qt(a),0)}if(l.ok||await Fu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Fu(a)}}function He(t){var e;let n=null;_v(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Zm(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Bu(t){const e=He(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function bt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function yv(t){return{data:t,error:null}}function wv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=pv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Wu(t){return t}function _v(t){return t.access_token&&t.refresh_token&&t.expires_in}const co=["global","local","others"];var kv=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Sv{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Th(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=co[0]){if(co.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${co.join(", ")}`);try{return await N(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await N(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=kv(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await N(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:wv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(O(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await N(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await N(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Wu});if(c.error)throw c.error;const d=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(y=>{const k=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=k}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(O(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){vn(e);try{return await N(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){vn(e);try{return await N(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:bt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){vn(e);try{return await N(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:bt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){vn(e.userId);try{const{data:n,error:r}=await N(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteFactor(e){vn(e.userId),vn(e.id);try{return{data:await N(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await N(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Wu});if(c.error)throw c.error;const d=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(y=>{const k=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=k}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(O(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await N(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await N(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await N(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await N(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}}function Vu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const yn={debug:!!(globalThis&&jh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ch extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xv extends Ch{}async function Ev(t,e,n){yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),yn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function bv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ph(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function jv(t){return parseInt(t,16)}function Tv(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Cv(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:l,requestId:a,resources:u,scheme:c,uri:d,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=Ph(t.address),y=c?`${c}://${r}`:r,k=t.statement?`${t.statement}
`:"",w=`${y} wants you to sign in with your Ethereum account:
${v}

${k}`;let g=`URI: ${d}
Version: ${p}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),a&&(g+=`
Request ID: ${a}`),u){let h=`
Resources:`;for(const f of u){if(!f||typeof f!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${f}`);h+=`
- ${f}`}g+=h}return`${w}
${g}`}class ee extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class as extends ee{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Pv({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ee({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ee({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ee({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ee({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ee({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ee({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ee({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ee({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Nh(o)){if(s.rp.id!==o)return new ee({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ee({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ee({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ov({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ee({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ee({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Nh(r)){if(n.rpId!==r)return new ee({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ee({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Oh=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Nv{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Rv=new Nv;function Av(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Oh(t,["challenge","user","excludeCredentials"]),s=zn(e).buffer,o=Object.assign(Object.assign({},n),{id:zn(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const u=r[a];l.excludeCredentials[a]=Object.assign(Object.assign({},u),{id:zn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Iv(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Oh(t,["challenge","allowCredentials"]),i=zn(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},l),{id:zn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function $v(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Zt(new Uint8Array(t.response.attestationObject)),clientDataJSON:Zt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Zt(new Uint8Array(i.authenticatorData)),clientDataJSON:Zt(new Uint8Array(i.clientDataJSON)),signature:Zt(new Uint8Array(i.signature)),userHandle:i.userHandle?Zt(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Nh(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Hu(){var t,e;return!!(Pe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Uv(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new as("Browser returned unexpected credential type",e)}:{data:null,error:new as("Empty credential response",e)}}catch(e){return{data:null,error:Pv({error:e,options:t})}}}async function Dv(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new as("Browser returned unexpected credential type",e)}:{data:null,error:new as("Empty credential response",e)}}catch(e){return{data:null,error:Ov({error:e,options:t})}}}const Mv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},zv={userVerification:"preferred",hints:["security-key"]};function us(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(e(o)){const l=r[s];e(l)?r[s]=us(l,o):r[s]=us(o)}else r[s]=o}return r}function Fv(t,e){return us(Mv,t,e||{})}function Bv(t,e){return us(zv,t,e||{})}class Wv{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:l};const a=i??Rv.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Fv(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:c,error:d}=await Uv({publicKey:u,signal:a});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=Bv(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:c,error:d}=await Dv(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:a}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new Jt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new Hr("rpId is required for WebAuthn authentication")};try{if(!Hu())return{data:null,error:new Jt("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:l};const{webauthn:a}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:a.type,rpId:n,rpOrigins:r,credential_response:a.credential_response}})}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new Jt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new Hr("rpId is required for WebAuthn registration")};try{if(!Hu())return{data:null,error:new Jt("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:l};const{data:a,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return a?this._verify({factorId:o.id,challengeId:a.challengeId,webauthn:{rpId:n,rpOrigins:r,type:a.webauthn.type,credential_response:a.webauthn.credential_response}}):{data:null,error:u}}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new Jt("Unexpected error in register",o)}}}}bv();const Vv={url:Mm,storageKey:zm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ku(t,e,n){return await n()}const wn={};class Kr{get jwks(){var e,n;return(n=(e=wn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){wn[this.storageKey]=Object.assign(Object.assign({},wn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=wn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wn[this.storageKey]=Object.assign(Object.assign({},wn[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kr.nextInstanceID,Kr.nextInstanceID+=1,this.instanceID>0&&Pe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Vv),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Sv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Th(i.fetch),this.lock=i.lock||Ku,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Pe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ev:this.lock=Ku,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Wv(this)},this.persistSession?(i.storage?this.storage=i.storage:jh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vu(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Vu(this.memoryStorage)),Pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=tv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Pe()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),qm(s)){const a=(e=s.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return O(n)?{error:n}:{error:new Jt("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:He}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:c,password:d,options:p}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await mn(this.storage,this.storageKey)),s=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:y},xform:He})}else if("phone"in e){const{phone:c,password:d,options:p}=e;s=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:He})}else throw new _i("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:l}=e;n=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bu})}else if("phone"in e){const{phone:s,password:o,options:l}=e;n=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bu})}else throw new _i("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,o,l,a,u,c,d,p;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:k,wallet:w,statement:g,options:h}=e;let f;if(Pe())if(typeof w=="object")f=w;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")f=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");f=w}const _=new URL((n=h==null?void 0:h.url)!==null&&n!==void 0?n:window.location.href),b=await f.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=Ph(b[0]);let j=(r=h==null?void 0:h.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const L=await f.request({method:"eth_chainId"});j=jv(L)}const P={domain:_.host,address:E,statement:g,uri:_.href,version:"1",chainId:j,nonce:(i=h==null?void 0:h.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=h==null?void 0:h.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=h==null?void 0:h.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(a=h==null?void 0:h.signInWithEthereum)===null||a===void 0?void 0:a.notBefore,requestId:(u=h==null?void 0:h.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=h==null?void 0:h.signInWithEthereum)===null||c===void 0?void 0:c.resources};v=Cv(P),y=await f.request({method:"personal_sign",params:[Tv(v),E]})}try{const{data:k,error:w}=await N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:He});if(w)throw w;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new gn}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:w})}catch(k){if(O(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(e){var n,r,i,s,o,l,a,u,c,d,p,v;let y,k;if("message"in e)y=e.message,k=e.signature;else{const{chain:w,wallet:g,statement:h,options:f}=e;let _;if(Pe())if(typeof g=="object")_=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const b=new URL((n=f==null?void 0:f.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),h?{statement:h}:null));let j;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")j=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)j=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),k=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${b.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(i=(r=f==null?void 0:f.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=f==null?void 0:f.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((l=f==null?void 0:f.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((u=f==null?void 0:f.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((d=(c=f==null?void 0:f.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...f.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=E}}try{const{data:w,error:g}=await N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Zt(k)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:He});if(g)throw g;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new gn}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:g})}catch(w){if(O(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await Vt(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await N(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:He});if(await wt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new gn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(O(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,l=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:He}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new gn}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await mn(this.storage,this.storageKey));const{error:d}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:c}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=a==null?void 0:a.data)!==null&&i!==void 0?i:{},create_user:(s=a==null?void 0:a.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new _i("You must provide either an email or phone number.")}catch(l){if(O(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await N(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:He});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await mn(this.storage,this.storageKey)),await N(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:yv})}catch(s){if(O(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new _t;const{error:i}=await N(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(O(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await N(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:l}=await N(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new _i("You must provide either an email or phone number and a type")}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Vt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<oo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Vt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=uo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bt}):await this._useSession(async n=>{var r,i,s;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:bt})})}catch(n){if(O(n))return Km(n)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new _t;const o=i.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await mn(this.storage,this.storageKey));const{data:u,error:c}=await N(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:bt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _t;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=ao(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(O(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new _t;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Pe())throw new ki("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ki(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $u("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ki("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $u("No code detected.");const{data:h,error:f}=await this._exchangeCodeForSession(e.code);if(f)throw f;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!s||!l||!o||!u)throw new ki("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(l);let p=c+d;a&&(p=parseInt(a));const v=p-c;v*1e3<=_n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const y=p-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,c);const{data:k,error:w}=await this._getUser(s);if(w)throw w;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:p,refresh_token:o,token_type:u,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(O(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Vt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Hm(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=ev(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await mn(this.storage,this.storageKey,!0));try{return await N(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(O(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,a,u,c;const{data:d,error:p}=s;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await N(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Pe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(O(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:l,token:a,access_token:u,nonce:c}=e,d=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:a,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:He}),{data:p,error:v}=d;return v?{data:{user:null,session:null},error:v}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new gn}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:v})}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await N(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await iv(async i=>(i>0&&await rv(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await N(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:He})),(i,s)=>{const o=200*Math.pow(2,i);return s&&lo(s)&&Date.now()+o-r<_n})}catch(r){if(this._debug(n,"error",r),O(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Pe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Vt(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Vt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await kn(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:uo()}else if(i&&!i.user&&!i.user){const o=await Vt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await wt(this.storage,this.storageKey+"-user"),await kn(this.storage,this.storageKey,i)):i.user=uo()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<oo;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${oo}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),lo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Os;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new _t;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),O(s)){const o={data:null,error:s};return lo(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){s.push(a)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await kn(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=zu(i);await kn(this.storage,this.storageKey,s)}else{const i=zu(n);await kn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_n);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/_n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_n}ms, refresh threshold is ${fl} ticks`),i<=fl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ch)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await mn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await N(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:a,error:u}=await N(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&a.type==="totp"&&(!((i=a==null?void 0:a.totp)===null||i===void 0)&&i.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?$v(e.webauthn.credential_response):Lv(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:a}=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:a})})}catch(n){if(O(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Av(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Iv(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(O(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ao(i.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Wm>i)return r;const{data:s,error:o}=await N(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};r=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:a}}=ao(r);n!=null&&n.allowExpired||dv(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const c=hv(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,Xm(`${l}.${a}`)))throw new ml("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}}Kr.nextInstanceID=0;const Hv=Kr;class Kv extends Hv{constructor(e){super(e)}}var qv=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class Gv{constructor(e,n,r){var i,s,o;this.supabaseUrl=e,this.supabaseKey=n;const l=Dm(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const a=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Cm,realtime:Om,auth:Object.assign(Object.assign({},Pm),{storageKey:a}),global:Tm},c=Um(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Im(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Wg(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Em(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new kg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return qv(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:o,flowType:l,lock:a,debug:u},c,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kv({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:l,lock:a,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new om(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Jv=(t,e,n)=>new Gv(t,e,n);function Qv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Qv()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yv="https://ogdvcwnkiulqerpvizzu.supabase.co",Xv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9nZHZjd25raXVscWVycHZpenp1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA5MDcwMDIsImV4cCI6MjA3NjQ4MzAwMn0.QEZNm__rAetyc0--w8aOOeKAdoTyXdc-ceW3KZdehlk",Zv=Jv(Yv,Xv);function e0({onSuccess:t}){const[e,n]=z.useState(""),[r,i]=z.useState(""),[s,o]=z.useState({type:"",message:""}),l=async a=>{a.preventDefault();const{data:u,error:c}=await Zv.from("users").select("*").eq("email",e).eq("password",r).single();if(c||!u){console.error("Supabase login error:",c),o({type:"error",message:"❌ Mauvais identifiants"});return}console.log("Supabase login success:",u),o({type:"success",message:"Connexion réussie. Redirection vers votre espace..."}),window.setTimeout(()=>{t&&t()},600)};return m.jsx("div",{className:"min-h-screen bg-slate-950 text-white",children:m.jsxs("div",{className:"relative flex min-h-screen flex-col lg:flex-row",children:[m.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[m.jsx("div",{className:"absolute -left-32 top-12 h-72 w-72 rounded-full bg-indigo-500/40 blur-3xl"}),m.jsx("div",{className:"absolute bottom-12 -right-24 h-96 w-96 rounded-full bg-purple-500/30 blur-[120px]"})]}),m.jsx("div",{className:"relative flex flex-1 flex-col justify-center px-6 py-16 sm:px-12 lg:px-16",children:m.jsxs("div",{className:"max-w-xl",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-4 py-1 text-sm font-medium uppercase tracking-wider text-white/70 backdrop-blur",children:[m.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-400"}),"Bienvenue sur MY FIRE DEAL"]}),m.jsxs("h1",{className:"mt-6 text-4xl font-semibold leading-tight sm:text-5xl",children:["Accédez à votre",m.jsxs("span",{className:"bg-gradient-to-r from-indigo-300 via-purple-300 to-cyan-300 bg-clip-text text-transparent",children:[" ","espace de pilotage stratégique"]})]}),m.jsx("p",{className:"mt-6 text-lg text-white/70",children:"Connectez-vous pour suivre vos deals, monitorer vos filiales et piloter vos opérations financières en temps réel. Centralisez vos flux et gagnez en impact."}),m.jsxs("dl",{className:"mt-10 grid gap-6 sm:grid-cols-2",children:[m.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[m.jsx("dt",{className:"text-sm uppercase tracking-wider text-white/60",children:"Contrôle"}),m.jsx("dd",{className:"mt-2 text-2xl font-semibold text-white",children:"Vue holding & filiales"}),m.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Consolidez vos activités et suivez les indicateurs clés de votre groupe."})]}),m.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[m.jsx("dt",{className:"text-sm uppercase tracking-wider text-white/60",children:"Financement"}),m.jsx("dd",{className:"mt-2 text-2xl font-semibold text-white",children:"Accès direct NESPIS"}),m.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Activez vos lignes bancaires et suivez les engagements en instantané."})]})]})]})}),m.jsx("div",{className:"relative flex flex-1 items-center justify-center bg-slate-950/60 px-6 py-16 sm:px-12 lg:px-16",children:m.jsxs("div",{className:"h-full w-full max-w-md rounded-3xl border border-white/10 bg-slate-900/70 p-8 shadow-2xl shadow-indigo-900/40 backdrop-blur",children:[m.jsxs("div",{className:"flex items-center gap-3 text-indigo-200",children:[m.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-indigo-500/20",children:m.jsx(bu,{className:"h-5 w-5"})}),m.jsx("span",{className:"text-sm font-medium uppercase tracking-widest text-white/70",children:"Connexion sécurisée"})]}),m.jsx("h2",{className:"mt-6 text-3xl font-semibold text-white",children:"Se connecter"}),s.message&&m.jsx("div",{className:`mt-6 rounded-2xl border px-4 py-3 text-sm ${s.type==="success"?"border-emerald-400/30 bg-emerald-400/10 text-emerald-200":"border-rose-400/30 bg-rose-400/10 text-rose-200"}`,children:s.message}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("label",{className:"block text-sm font-medium text-white/70",children:["Adresse e-mail",m.jsxs("div",{className:"mt-2 flex items-center rounded-2xl border border-white/10 bg-slate-900/80 px-4",children:[m.jsx(gg,{className:"h-5 w-5 text-white/50"}),m.jsx("input",{type:"email",name:"email",placeholder:"vous@myfiredeal.com",value:e,onChange:a=>n(a.target.value),className:"w-full bg-transparent px-3 py-3 text-white placeholder:text-white/40 focus:outline-none",autoComplete:"email"})]})]}),m.jsxs("label",{className:"block text-sm font-medium text-white/70",children:["Mot de passe",m.jsxs("div",{className:"mt-2 flex items-center rounded-2xl border border-white/10 bg-slate-900/80 px-4",children:[m.jsx(pg,{className:"h-5 w-5 text-white/50"}),m.jsx("input",{type:"password",name:"password",placeholder:"********",value:r,onChange:a=>i(a.target.value),className:"w-full bg-transparent px-3 py-3 text-white placeholder:text-white/40 focus:outline-none",autoComplete:"current-password"})]})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-white/20 bg-slate-900/50 text-indigo-400 focus:ring-indigo-500"}),"Se souvenir de moi"]}),m.jsx("button",{type:"button",className:"text-sm font-medium text-indigo-200 hover:text-indigo-100",children:"Mot de passe oublié ?"})]}),m.jsxs("button",{type:"submit",className:"flex w-full items-center justify-center gap-2 rounded-2xl bg-gradient-to-r from-indigo-500 via-purple-500 to-cyan-400 px-4 py-3 text-base font-semibold text-white shadow-lg shadow-indigo-900/40 transition hover:shadow-indigo-900/70",children:[m.jsx(bu,{className:"h-5 w-5"}),"Connexion"]}),m.jsxs("p",{className:"text-center text-sm text-white/60",children:["Besoin d'un accès ?"," ",m.jsx("a",{href:"#contact",className:"font-medium text-indigo-200 hover:text-indigo-100",children:"Contactez l'équipe MY COPILOT IA"})]})]})]})})]})})}function t0(){const[t,e]=z.useState(!1),[n,r]=z.useState("password"),[i,s]=z.useState(!1),[o,l]=z.useState(""),a="jack.luc@icloud.com",u=()=>{o&&(r(o),l(""),s(!1))},c=()=>{window.location.reload()};return m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>e(d=>!d),className:"flex items-center gap-2 bg-white/80 border border-slate-200 rounded-xl px-4 py-2 shadow-sm hover:bg-slate-100 focus:outline-none",children:[m.jsx("span",{className:"font-medium text-slate-800",children:"Profil"}),m.jsx("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",children:m.jsx("path",{stroke:"#334155",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M6 9l6 6 6-6"})})]}),t&&m.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-4 space-y-4",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-slate-500 font-semibold uppercase tracking-wider mb-1",children:"Email"}),m.jsx("div",{className:"text-sm font-medium text-slate-800",children:a})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-slate-500 font-semibold uppercase tracking-wider mb-1",children:"Mot de passe"}),i?m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"password",value:o,onChange:d=>l(d.target.value),className:"border rounded-lg px-2 py-1 text-sm flex-1",placeholder:"Nouveau mot de passe"}),m.jsx("button",{onClick:u,className:"text-green-700 font-semibold text-xs",children:"Enregistrer"}),m.jsx("button",{onClick:()=>s(!1),className:"text-slate-400 text-xs",children:"Annuler"})]}):m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-xs text-slate-400",children:n}),m.jsx("button",{onClick:()=>s(!0),className:"text-indigo-600 text-xs font-medium hover:underline",children:"Modifier"})]})]}),m.jsx("div",{children:m.jsx("button",{onClick:c,className:"w-full text-center text-sm text-rose-600 font-semibold py-2 rounded-lg hover:bg-rose-50",children:"Se déconnecter"})})]})]})}const vl={nom:"",type:"",typeProjet:"Filiale",partenaire:"",statut:"",objectif:"",action:"",promptMarketing:"",promptPartenaire:"",promptVendeur:"",promptSpecialiste:"",priorite:"Moyenne"},Rh="myfiredeal.projects",Ah=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`${Date.now()}-${Math.random().toString(36).slice(2,10)}`,n0=()=>{if(typeof window>"u")return[];try{const t=window.localStorage.getItem(Rh);if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e.map(n=>({...vl,...n,id:n.id??Ah()})):[]}catch(t){return console.warn("Impossible de charger les projets locaux :",t),[]}},qu=t=>{if(!(typeof window>"u"))try{window.localStorage.setItem(Rh,JSON.stringify(t))}catch(e){throw console.warn("Impossible de sauvegarder les projets locaux :",e),e}},ho=t=>{const e=((t==null?void 0:t.type)||"").trim();if(e)return e;const n=((t==null?void 0:t.typeProjet)||"").trim();return n||"Type non défini"};function r0(){const[t,e]=z.useState(!1);return t?m.jsx(i0,{}):m.jsx(e0,{onSuccess:()=>e(!0)})}function i0(){const[t,e]=z.useState([]),[n,r]=z.useState(!1),[i,s]=z.useState("Filiale"),[o,l]=z.useState(null),[a,u]=z.useState(!1),[c,d]=z.useState(()=>({...vl})),[p,v]=z.useState(!1),[y,k]=z.useState({type:"",message:""}),[w,g]=z.useState(null),[h,f]=z.useState(!1),[_,b]=z.useState(!1),[E,j]=z.useState({type:"",message:""});z.useEffect(()=>{e(n0())},[]);const P=(S=i)=>{d(()=>({...vl,typeProjet:S}))},L=()=>{k({type:"",message:""}),P(i),r(!0)},I=(S=i)=>{r(!1),k({type:"",message:""}),P(S)},Ce=async()=>{if(p)return;v(!0),k({type:"",message:""});const S={id:Ah(),nom:c.nom,type:c.type,typeProjet:c.typeProjet,partenaire:c.partenaire,statut:c.statut,objectif:c.objectif,action:c.action,promptMarketing:c.promptMarketing,promptPartenaire:c.promptPartenaire,promptVendeur:c.promptVendeur,promptSpecialiste:c.promptSpecialiste,priorite:c.priorite,created_at:new Date().toISOString()};try{e(re=>{const X=[S,...re];return qu(X),X}),s(S.typeProjet||"Filiale"),I(S.typeProjet)}catch(re){console.error("❌ Enregistrement local impossible :",re),k({type:"error",message:"Impossible d’enregistrer le projet localement."})}finally{v(!1)}},F=(S,re,X,Le="text")=>m.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[S,Le==="textarea"?m.jsx("textarea",{value:re,onChange:X,className:"border p-3 rounded-xl w-full mt-2"}):m.jsx("input",{value:re,onChange:X,className:"border p-3 rounded-xl w-full mt-2"})]}),mt=t.filter(S=>S.typeProjet===i),vt=t.find(S=>S.id===o),he=h&&w?w:vt,er=[{label:"Filiales",value:"Filiale"},{label:"Deals",value:"Deal"}],tr=[{title:"Prompt Marketing",key:"promptMarketing"},{title:"Prompt Partenaire",key:"promptPartenaire"},{title:"Prompt Vendeur",key:"promptVendeur"},{title:"Prompt Spécialiste",key:"promptSpecialiste"}],T=S=>{l(S.id),g({...S}),j({type:"",message:""}),f(!1),b(!1),u(!0)},R=()=>{u(!1),l(null),g(null),f(!1),b(!1),j({type:"",message:""})},A=()=>{vt&&(g({...vt}),f(!0),j({type:"",message:""}))},q=()=>{g(vt?{...vt}:null),f(!1),b(!1),j({type:"",message:""})},D=(S,re)=>{g(X=>X&&{...X,[S]:re}),j({type:"",message:""})},dn=()=>{if(!w)return;b(!0),j({type:"",message:""});let S=null;try{e(X=>{const Le=X.map(Bt=>Bt.id!==w.id?Bt:{...Bt,...w});return S=Le.find(Bt=>Bt.id===w.id)||w,qu(Le),Le});const re=S?{...S}:{...w};g(re),s(re.typeProjet||"Filiale"),f(!1),j({type:"success",message:"Projet mis à jour."})}catch(re){console.error("❌ Mise à jour du projet impossible :",re),j({type:"error",message:"Impossible de sauvegarder les modifications."})}finally{b(!1)}};return m.jsx("div",{className:"min-h-screen bg-slate-50 text-slate-900",children:m.jsxs("div",{className:"mx-auto flex min-h-screen w-full max-w-6xl flex-col gap-8 px-4 py-10",children:[m.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Portefeuille projets"}),m.jsx("p",{className:"text-sm text-slate-500",children:"Suivez vos filiales et deals actifs en un coup d'œil."})]}),m.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[m.jsx("div",{className:"flex items-center gap-1 rounded-full border border-slate-200 bg-white p-1",children:er.map(S=>m.jsx("button",{type:"button",onClick:()=>s(S.value),className:`rounded-full px-3.5 py-1.5 text-sm font-medium transition ${i===S.value?"bg-blue-600 text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:S.label},S.value))}),m.jsxs(fn,{onClick:L,className:"flex items-center gap-2 rounded-xl border border-blue-600 bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-700",children:[m.jsx(mg,{className:"h-4 w-4"}),"Nouveau projet"]}),m.jsx(t0,{})]})]}),m.jsxs("section",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:i==="Filiale"?"Filiales actives":"Deals actifs"}),m.jsx("p",{className:"text-sm text-slate-500",children:i==="Filiale"?"Vue d’ensemble de vos filiales, objectifs et priorités.":"Suivi des deals en cours et de leur statut."})]}),mt.length===0?m.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-white px-6 py-12 text-center text-sm text-slate-500",children:[m.jsxs("p",{children:["Aucun projet ",i==="Filiale"?"de type Filiale":"Deal"," pour le moment."]}),m.jsx("p",{className:"mt-2 font-medium text-slate-600",children:"Créez-en un via le bouton « Nouveau projet »."})]}):m.jsx("div",{className:"space-y-4",children:mt.map(S=>{const re=ho(S),X=tr.map(({title:Bt,key:Ih})=>({title:Bt,text:S[Ih]})),Le=[{icon:"🤝",label:"Partenaire",value:S.partenaire||"À préciser"},{icon:"📌",label:"Statut",value:S.statut||"En attente"},{icon:"🎯",label:"Objectif",value:S.objectif||"À définir"},{icon:"⚡️",label:"Action",value:S.action||"À planifier"}];return m.jsx(s0,{typeLabel:re,project:S,details:Le,prompts:X,onEdit:()=>T(S)},S.id)})})]}),a&&he&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm px-4 py-10",children:m.jsxs("div",{className:"relative w-full max-w-4xl overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-2xl",children:[m.jsx("button",{className:"absolute right-6 top-6 text-slate-500 transition hover:text-slate-700",onClick:R,children:m.jsx(ju,{className:"h-6 w-6"})}),m.jsxs("div",{className:"space-y-8 p-8 md:p-12 overflow-y-auto max-h-[85vh]",children:[m.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-500",children:he.typeProjet||"—"}),m.jsx("h3",{className:"mt-2 text-3xl font-bold text-slate-900",children:he.nom||"Projet sans titre"}),m.jsx("p",{className:"text-sm text-slate-500",children:ho(he)})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsxs("span",{className:"rounded-full bg-slate-100 px-4 py-2 text-sm font-semibold uppercase text-slate-600",children:["Priorité : ",he.priorite||"Moyenne"]}),m.jsxs("span",{className:"rounded-full bg-slate-100 px-4 py-2 text-sm font-semibold text-slate-600",children:["Statut : ",he.statut||"En attente"]}),h?m.jsxs("div",{className:"flex gap-2",children:[m.jsx(fn,{variant:"outline",onClick:q,className:"border-slate-300 text-slate-600 hover:bg-slate-100",disabled:_,children:"Annuler"}),m.jsx(fn,{onClick:dn,className:"bg-indigo-600 hover:bg-indigo-700 text-white",disabled:_,children:_?"Enregistrement...":"Enregistrer"})]}):m.jsx(fn,{variant:"outline",onClick:A,className:"border-slate-300 text-slate-600 hover:bg-slate-100",children:"Modifier"})]})]}),E.message&&m.jsx("div",{className:`rounded-xl border px-4 py-3 text-sm ${E.type==="success"?"border-emerald-400/40 bg-emerald-400/10 text-emerald-600":E.type==="error"?"border-rose-400/40 bg-rose-400/10 text-rose-600":"border-slate-200 bg-slate-50 text-slate-600"}`,children:E.message}),h?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[F("Nom du projet",(w==null?void 0:w.nom)||"",S=>D("nom",S.target.value)),F("Type / Secteur",(w==null?void 0:w.type)||"",S=>D("type",S.target.value)),m.jsxs("label",{className:"block text-sm font-medium text-gray-700 md:col-span-2",children:["Type de projet",m.jsxs("select",{value:(w==null?void 0:w.typeProjet)||"Filiale",onChange:S=>D("typeProjet",S.target.value),className:"border p-3 rounded-xl w-full mt-2",children:[m.jsx("option",{children:"Filiale"}),m.jsx("option",{children:"Deal"})]})]}),F("Partenaire / Client",(w==null?void 0:w.partenaire)||"",S=>D("partenaire",S.target.value)),F("Statut",(w==null?void 0:w.statut)||"",S=>D("statut",S.target.value)),F("Objectif",(w==null?void 0:w.objectif)||"",S=>D("objectif",S.target.value)),F("Prochaine action",(w==null?void 0:w.action)||"",S=>D("action",S.target.value))]}),m.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4",children:[F("Prompt Marketing",(w==null?void 0:w.promptMarketing)||"",S=>D("promptMarketing",S.target.value),"textarea"),F("Prompt Partenaire",(w==null?void 0:w.promptPartenaire)||"",S=>D("promptPartenaire",S.target.value),"textarea"),F("Prompt Vendeur",(w==null?void 0:w.promptVendeur)||"",S=>D("promptVendeur",S.target.value),"textarea"),F("Prompt Spécialiste",(w==null?void 0:w.promptSpecialiste)||"",S=>D("promptSpecialiste",S.target.value),"textarea")]}),m.jsxs("label",{className:"block text-sm font-medium text-gray-700 w-full md:w-56",children:["Priorité",m.jsxs("select",{value:(w==null?void 0:w.priorite)||"Moyenne",onChange:S=>D("priorite",S.target.value),className:"border p-3 rounded-xl w-full mt-2",children:[m.jsx("option",{children:"Haute"}),m.jsx("option",{children:"Moyenne"}),m.jsx("option",{children:"Basse"})]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[m.jsx(Si,{label:"Partenaire / Client",value:he.partenaire}),m.jsx(Si,{label:"Objectif",value:he.objectif}),m.jsx(Si,{label:"Prochaine action",value:he.action}),m.jsx(Si,{label:"Type projet",value:ho(he)})]}),m.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[m.jsx(xi,{title:"Prompt Marketing",text:he.promptMarketing}),m.jsx(xi,{title:"Prompt Partenaire",text:he.promptPartenaire}),m.jsx(xi,{title:"Prompt Vendeur",text:he.promptVendeur}),m.jsx(xi,{title:"Prompt Spécialiste",text:he.promptSpecialiste})]})]})]})]})}),n&&m.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white w-full max-w-6xl rounded-3xl shadow-xl p-8 relative",children:[m.jsx("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",onClick:()=>I(c.typeProjet),children:m.jsx(ju,{className:"h-6 w-6"})}),m.jsx("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Créer un nouveau projet"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[F("Nom du projet",c.nom,S=>d({...c,nom:S.target.value})),F("Type / Secteur",c.type,S=>d({...c,type:S.target.value})),m.jsxs("label",{className:"block text-sm font-medium text-gray-700 col-span-2",children:["Type de projet",m.jsxs("select",{value:c.typeProjet,onChange:S=>d({...c,typeProjet:S.target.value}),className:"border p-3 rounded-xl w-full mt-2",children:[m.jsx("option",{children:"Filiale"}),m.jsx("option",{children:"Deal"})]})]}),F("Partenaire / Client",c.partenaire,S=>d({...c,partenaire:S.target.value})),F("Statut",c.statut,S=>d({...c,statut:S.target.value})),F("Objectif",c.objectif,S=>d({...c,objectif:S.target.value})),F("Prochaine action",c.action,S=>d({...c,action:S.target.value}))]}),m.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[F("Prompt Marketing",c.promptMarketing,S=>d({...c,promptMarketing:S.target.value}),"textarea"),F("Prompt Partenaire",c.promptPartenaire,S=>d({...c,promptPartenaire:S.target.value}),"textarea"),F("Prompt Vendeur",c.promptVendeur,S=>d({...c,promptVendeur:S.target.value}),"textarea"),F("Prompt Spécialiste",c.promptSpecialiste,S=>d({...c,promptSpecialiste:S.target.value}),"textarea")]}),y.message&&m.jsx("div",{className:`mb-6 rounded-xl border px-4 py-3 text-sm ${y.type==="success"?"border-emerald-400/40 bg-emerald-400/10 text-emerald-600":y.type==="warning"?"border-amber-400/40 bg-amber-300/10 text-amber-600":"border-rose-400/40 bg-rose-400/10 text-rose-600"}`,children:y.message}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Priorité",m.jsxs("select",{value:c.priorite,onChange:S=>d({...c,priorite:S.target.value}),className:"border p-3 rounded-xl w-40 mt-2",children:[m.jsx("option",{children:"Haute"}),m.jsx("option",{children:"Moyenne"}),m.jsx("option",{children:"Basse"})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(fn,{variant:"outline",onClick:()=>I(c.typeProjet),className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:"Annuler"}),m.jsx(fn,{onClick:Ce,className:"bg-green-500 hover:bg-green-600 text-white",disabled:p,children:p?"Enregistrement...":"Valider"})]})]})]})})]})})}function Si({label:t,value:e}){return m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:t}),m.jsx("p",{className:"mt-2 text-sm text-slate-700",children:e||"—"})]})}function s0({project:t,typeLabel:e,details:n,prompts:r,onEdit:i}){return m.jsxs("div",{className:"rounded-2xl border border-blue-100 bg-white/95 p-6 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md",children:[m.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:justify-between",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-blue-500",children:e}),m.jsx("h3",{className:"text-xl font-semibold text-blue-900",children:t.nom||"Projet sans titre"}),m.jsx("p",{className:"text-sm text-slate-600 whitespace-pre-wrap break-words",children:t.partenaire||"Partenaire à préciser"})]}),m.jsxs("div",{className:"flex flex-col items-start gap-2 md:items-end",children:[m.jsxs("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-xs font-semibold uppercase text-blue-700",children:["Priorité : ",t.priorite||"Moyenne"]}),m.jsx("button",{type:"button",onClick:i,className:"inline-flex items-center rounded-lg border border-blue-200 bg-white px-3 py-1.5 text-sm font-medium text-blue-600 transition hover:bg-blue-50",children:"Modifier"})]})]}),m.jsx("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:n.map(({icon:s,label:o,value:l})=>m.jsx(o0,{icon:s,label:o,value:l},o))}),m.jsx("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:r.map(({title:s,text:o})=>m.jsx(l0,{title:s,text:o},s))})]})}function o0({icon:t,label:e,value:n}){return m.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[m.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:[m.jsx("span",{className:"mr-1","aria-hidden":"true",children:t}),e]}),m.jsx("p",{className:"mt-1 text-sm text-slate-700 whitespace-pre-wrap break-words",children:n||"—"})]})}function l0({title:t,text:e}){return m.jsxs("div",{className:"rounded-xl border border-blue-50 bg-blue-50/40 px-4 py-3",children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-blue-600",children:t}),m.jsx("p",{className:"mt-2 text-sm text-slate-700 whitespace-pre-wrap break-words",children:e||"—"})]})}function xi({title:t,text:e}){return m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/70 p-6",children:[m.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-500",children:t}),m.jsx("p",{className:"mt-3 text-sm leading-relaxed text-slate-700 whitespace-pre-wrap break-words",children:e||"—"})]})}fo.createRoot(document.getElementById("root")).render(m.jsx(Xh.StrictMode,{children:m.jsx(r0,{})}));
